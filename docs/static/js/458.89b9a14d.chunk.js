"use strict";(self.webpackChunkbel_frontend=self.webpackChunkbel_frontend||[]).push([[458],{60165:function(e,n,t){t.d(n,{d:function(){return b}});var r=t(74165),i=t(15861),s=t(29439),a=t(72791),o=t(93433),c=t(72685),l=t(44702),u=t(65390),d=(0,l.ZF)({apiKey:"AIzaSyCw3D0uzLYTCx7N8IQqP_v68le913Ha75U",authDomain:"bel-frontend.firebaseapp.com",projectId:"bel-frontend",messagingSenderId:"47972660046",appId:"1:47972660046:web:8f3adf6f5c9c16e542241f",measurementId:"G-REGR3FB1CP"}),f=((0,u.IH)(d),(0,c.N8)(d),function(e){return(JSON.parse(localStorage.getItem("user_liked_item")||"[]")||[]).find((function(n){return n===e}))}),v=function(e){var n=JSON.parse(localStorage.getItem("user_liked_item")||"[]")||[];localStorage.setItem("user_liked_item",JSON.stringify([].concat((0,o.Z)(n),[e])))},h=function(e){var n=JSON.parse(localStorage.getItem("user_liked_item")||"[]")||[];localStorage.setItem("user_liked_item",JSON.stringify((0,o.Z)(n.filter((function(n){return n!==e})))))},m=t(80186),g=t(36151),p=t(78687),x=t(80184),y=function(){return(0,x.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"white",children:(0,x.jsx)("path",{d:"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z"})})},_="style_count_likes__vb5OL",b=function(e){var n=e.articleId,t=(e.className,e.likesCount),o=(0,p.I0)(),c=a.useState(t),l=(0,s.Z)(c,2),u=l[0],d=l[1];a.useEffect((function(){d(t)}),[t]);var b=a.useCallback((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f(n)){e.next=6;break}return e.next=3,o((0,m.Qf)({id:n},{onSuccess:function(e){var n=e.data;d(null===n||void 0===n?void 0:n.count)}}));case 3:v(n),e.next=9;break;case 6:return e.next=8,o((0,m.BD)({id:n},{onSuccess:function(e){var n=e.data;d(null===n||void 0===n?void 0:n.count)}}));case 8:h(n);case 9:case"end":return e.stop()}}),e)}))),[n]);return(0,x.jsxs)(g.Z,{color:"error",type:"button",variant:"contained",size:"small",onClick:b,disableElevation:!0,children:[(0,x.jsx)(y,{}),(0,x.jsx)("span",{className:_,children:u})]})}},76180:function(e,n,t){t.d(n,{V:function(){return a}});t(72791);var r=t(81918),i="style_tag__vxBM0",s=t(80184),a=function(e){var n=e.children;return(0,s.jsx)(r.Z,{size:"small",className:i,label:n})}},32448:function(e,n,t){t.d(n,{MD:function(){return u}});var r=t(1413),i=t(45987),s=(t(72791),t(49876)),a=t(64209),o=t(6125),c=t(80184),l=["node","inline","className","children"],u=function(e){var n=e.children;return(0,c.jsx)(s.D,{components:{code:function(e){e.node;var n=e.inline,t=e.className,s=e.children,u=(0,i.Z)(e,l);return n?(0,c.jsx)("code",(0,r.Z)((0,r.Z)({className:t},u),{},{children:s})):(0,c.jsx)(a.Z,{language:"javascript",style:o.Z,children:String(s).replace(/\n$/,"")})}},children:n})}},61146:function(e,n,t){t.d(n,{U:function(){return u}});t(72791);var r=t(91523),i=t(60165),s=t(76180),a=t(36151),o=t(68870),c="style_episode_meta__kDtMn",l=t(80184),u=function(e){var n=e.meta,t=e.showReadButton,u=void 0===t||t,d=e.url,f=e.articleId,v=e.likes,h=n||{},m=h.author,g=void 0===m?"":m,p=h.dateArticle,x=void 0===p?"":p;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:c,children:[u?(0,l.jsx)(r.rU,{to:d,children:(0,l.jsx)(a.Z,{variant:"contained",color:"primary",size:"small",disableElevation:!0,children:"\u0427\u044b\u0442\u0430\u0446\u044c"})}):null,u?(0,l.jsx)(i.d,{likesCount:v,articleId:f}):null]}),(0,l.jsx)("div",{children:((null===n||void 0===n?void 0:n.tags.toString().split(","))||[]).map((function(e){return(0,l.jsx)(s.V,{children:e},e)}))}),(0,l.jsxs)(o.Z,{marginTop:1,children:[(0,l.jsx)("span",{className:"author",children:g}),",",(0,l.jsxs)("span",{className:"date-article",children:[" ",x]})]})]})}},81465:function(e,n,t){var r;t.d(n,{p:function(){return r}}),function(e){e.USER="USER",e.SUPERADMIN="SUPERADMIN"}(r||(r={}))},15762:function(e,n,t){t.d(n,{b:function(){return h}});var r=t(1413),i=(t(72791),t(61146)),s=t(91523),a=t(32448),o=t(19348),c=t(13400),l=t(41286),u=t(81918),d=t(81465),f={alfa:"style_alfa__0PwVD",deactivatedLink:"style_deactivatedLink__B+CHs"},v=t(80184),h=function(e){var n=e.meta,t=e.id,h=e.content,m=e.history,g=e.userIsAuth,p=e.isActive,x=e.likes,y=void 0===x?0:x,_=e.currentUser,b=(0,o.YD)({threshold:0}),k=b.ref,j=b.entry,I=t?"/article/".concat(t):"/",w=n.user_id,S=_.role;return(0,v.jsx)("article",{className:"episode box",ref:k,children:(null===j||void 0===j?void 0:j.isIntersecting)&&(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"article",children:[(0,v.jsxs)("h2",{className:"episode__title",children:[(0,v.jsx)(s.rU,{className:g&&!p?f.deactivatedLink:f.link,to:n?I:"/",children:n.title}),g&&!p?(0,v.jsx)(u.Z,{sx:{ml:2,mr:2},label:"\u0412\u044b\u043a\u043b\u044e\u0447\u0430\u043d\u0430"}):null,!g||S!==d.p.SUPERADMIN&&w!==(null===_||void 0===_?void 0:_.user_id)?null:(0,v.jsx)(c.Z,{sx:{ml:1},color:"secondary",onClick:function(){m.push("/editor/".concat(t))},children:(0,v.jsx)(l.Z,{})})]}),(0,v.jsx)("div",{className:"content",children:(0,v.jsx)(a.MD,{children:h})})]}),(0,v.jsx)("div",{className:f.alfa}),(0,v.jsx)(i.U,{meta:(0,r.Z)({},n),likes:y,articleId:t,url:I})]})})}},31458:function(e,n,t){t.r(n),t.d(n,{default:function(){return h}});var r=t(45987),i=t(72791),s=t(68870),a=t(78687),o=t(80186),c=t(15762),l="style_main__ukDpv",u="style_telegram__AcsTO",d=t(14357),f=t(80184),v=["route","history","location"],h=function(e){var n=e.route.userIsAuth,t=e.history,h=e.location.search,m=((0,r.Z)(e,v),(0,a.I0)()),g=(0,a.v9)(d.Lu);i.useEffect((function(){var e=new URLSearchParams(h).get("seacrhText");m((0,o.vA)(e))}),[h]);var p=(0,a.v9)(o.Tk).articles,x=i.useMemo((function(){return p}),[p]);return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(s.Z,{component:"main",className:l,children:[(0,f.jsx)("a",{className:u,href:"https://t.me/bel_frontend",target:"_blank",rel:"noreferrer",children:"\u0414\u0430\u043b\u0443\u0447\u0430\u0439\u0446\u0435\u0441\u044f \u0434\u0430 \u043d\u0430\u0448\u0430\u0433\u0430 \u0442\u044d\u043b\u0435\u0433\u0440\u0430\u043c\u043a\u0430\u043d\u0430\u043b\u0443"}),x&&x.map((function(e,r){var i=e.content,s=e.meta,a=e.id,o=e.isActive,l=e.likes;return s?(0,f.jsx)(c.b,{currentUser:g,history:t,userIsAuth:n,content:i,meta:s,id:a,isActive:o,likes:l},r):null}))]})})}},19348:function(e,n,t){t.d(n,{YD:function(){return x}});var r=t(29439),i=t(15671),s=t(43144),a=t(60136),o=t(27277),c=t(72791);function l(){return l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},l.apply(this,arguments)}var u=new Map,d=new WeakMap,f=0,v=void 0;function h(e){return Object.keys(e).sort().filter((function(n){return void 0!==e[n]})).map((function(n){return"".concat(n,"_").concat("root"===n?(t=e.root)?(d.has(t)||(f+=1,d.set(t,f.toString())),d.get(t)):"0":e[n]);var t})).toString()}function m(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:v;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return n(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof t.threshold?t.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var s=function(e){var n=h(e),t=u.get(n);if(!t){var r,i=new Map,s=new IntersectionObserver((function(n){n.forEach((function(n){var t,s=n.isIntersecting&&r.some((function(e){return n.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof n.isVisible&&(n.isVisible=s),null==(t=i.get(n.target))||t.forEach((function(e){e(s,n)}))}))}),e);r=s.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),t={id:n,observer:s,elements:i},u.set(n,t)}return t}(t),a=s.id,o=s.observer,c=s.elements,l=c.get(e)||[];return c.has(e)||c.set(e,l),l.push(n),o.observe(e),function(){l.splice(l.indexOf(n),1),0===l.length&&(c.delete(e),o.unobserve(e)),0===c.size&&(o.disconnect(),u.delete(a))}}var g=["children","as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"];function p(e){return"function"!==typeof e.children}c.Component;function x(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.threshold,i=n.delay,s=n.trackVisibility,a=n.rootMargin,o=n.root,l=n.triggerOnce,u=n.skip,d=n.initialInView,f=n.fallbackInView,v=n.onChange,h=c.useState(null),g=(0,r.Z)(h,2),p=g[0],x=g[1],y=c.useRef(),_=c.useState({inView:!!d,entry:void 0}),b=(0,r.Z)(_,2),k=b[0],j=b[1];y.current=v,c.useEffect((function(){var e;if(!u&&p)return e=m(p,(function(n,t){j({inView:n,entry:t}),y.current&&y.current(n,t),t.isIntersecting&&l&&e&&(e(),e=void 0)}),{root:o,rootMargin:a,threshold:t,trackVisibility:s,delay:i},f),function(){e&&e()}}),[Array.isArray(t)?t.toString():t,p,o,a,l,u,s,f,i]);var I=null==(e=k.entry)?void 0:e.target,w=c.useRef();p||!I||l||u||w.current===I||(w.current=I,j({inView:!!d,entry:void 0}));var S=[x,k.inView,k.entry];return S.ref=S[0],S.inView=S[1],S.entry=S[2],S}}}]);
//# sourceMappingURL=458.89b9a14d.chunk.js.map