"use strict";(self.webpackChunkbel_frontend=self.webpackChunkbel_frontend||[]).push([[716],{60165:function(e,n,t){t.d(n,{d:function(){return y}});var r=t(74165),i=t(15861),o=t(29439),a=t(72791),s=t(93433),l=t(72685),c=t(44702),d=t(65390),u=(0,c.ZF)({apiKey:"AIzaSyCw3D0uzLYTCx7N8IQqP_v68le913Ha75U",authDomain:"bel-frontend.firebaseapp.com",projectId:"bel-frontend",messagingSenderId:"47972660046",appId:"1:47972660046:web:8f3adf6f5c9c16e542241f",measurementId:"G-REGR3FB1CP"}),m=((0,d.IH)(u),(0,l.N8)(u),function(e){return(JSON.parse(localStorage.getItem("user_liked_item")||"[]")||[]).find((function(n){return n===e}))}),v=function(e){var n=JSON.parse(localStorage.getItem("user_liked_item")||"[]")||[];localStorage.setItem("user_liked_item",JSON.stringify([].concat((0,s.Z)(n),[e])))},f=function(e){var n=JSON.parse(localStorage.getItem("user_liked_item")||"[]")||[];localStorage.setItem("user_liked_item",JSON.stringify((0,s.Z)(n.filter((function(n){return n!==e})))))},p=t(80186),h=t(36151),x=t(78687),Z=t(80184),g=function(){return(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"white",children:(0,Z.jsx)("path",{d:"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z"})})},j="style_count_likes__vb5OL",y=function(e){var n=e.articleId,t=(e.className,e.likesCount),s=(0,x.I0)(),l=a.useState(t),c=(0,o.Z)(l,2),d=c[0],u=c[1];a.useEffect((function(){u(t)}),[t]);var y=a.useCallback((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(n)){e.next=6;break}return e.next=3,s((0,p.Qf)({id:n},{onSuccess:function(e){var n=e.data;u(null===n||void 0===n?void 0:n.count)}}));case 3:v(n),e.next=9;break;case 6:return e.next=8,s((0,p.BD)({id:n},{onSuccess:function(e){var n=e.data;u(null===n||void 0===n?void 0:n.count)}}));case 8:f(n);case 9:case"end":return e.stop()}}),e)}))),[n]);return(0,Z.jsxs)(h.Z,{color:"error",type:"button",variant:"contained",size:"small",onClick:y,disableElevation:!0,children:[(0,Z.jsx)(g,{}),(0,Z.jsx)("span",{className:j,children:d})]})}},76180:function(e,n,t){t.d(n,{V:function(){return a}});t(72791);var r=t(81918),i="style_tag__vxBM0",o=t(80184),a=function(e){var n=e.children;return(0,o.jsx)(r.Z,{size:"small",className:i,label:n})}},90944:function(e,n,t){t.d(n,{MD:function(){return m}});var r=t(1413),i=t(45987),o=(t(72791),t(29390)),a=t(64209),s=t(94155),l=t(6125),c={container:"style_container__-J27M"},d=t(80184),u=["node","inline","className","children"],m=function(e){var n=e.children,t=e.className,m=void 0===t?"":t;return(0,d.jsx)(o.D,{className:[c.container,m].join(" "),remarkPlugins:[s.Z],components:{code:function(e){e.node;var n=e.inline,t=e.className,o=e.children,s=(0,i.Z)(e,u);return n?(0,d.jsx)("code",(0,r.Z)((0,r.Z)({className:t},s),{},{children:o})):(0,d.jsx)(a.Z,{language:"javascript",style:l.Z,children:String(o).replace(/\n$/,"")})}},children:n})}},61146:function(e,n,t){t.d(n,{U:function(){return d}});t(72791);var r=t(91523),i=t(60165),o=t(76180),a=t(36151),s=t(68870),l="style_episode_meta__kDtMn",c=t(80184),d=function(e){var n=e.meta,t=e.showReadButton,d=void 0===t||t,u=e.url,m=e.articleId,v=e.likes,f=e.showTags,p=void 0===f||f,h=n||{},x=h.author,Z=void 0===x?"":x,g=h.dateArticle,j=void 0===g?"":g;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:l,children:[d?(0,c.jsx)(r.rU,{to:u,children:(0,c.jsx)(a.Z,{variant:"contained",color:"primary",size:"small",disableElevation:!0,children:"\u0427\u044b\u0442\u0430\u0446\u044c"})}):null,d?(0,c.jsx)(i.d,{likesCount:v,articleId:m}):null]}),(0,c.jsx)("div",{children:p&&((null===n||void 0===n?void 0:n.tags.toString().split(","))||[]).map((function(e){return(0,c.jsx)(o.V,{children:e},e)}))}),(0,c.jsxs)(s.Z,{marginTop:1,children:[(0,c.jsx)("span",{className:"author",children:Z}),",",(0,c.jsxs)("span",{className:"date-article",children:[" ",j]})]})]})}},81465:function(e,n,t){var r;t.d(n,{p:function(){return r}}),function(e){e.USER="USER",e.SUPERADMIN="SUPERADMIN",e.ADMIN="ADMIN"}(r||(r={}))},48716:function(e,n,t){t.r(n),t.d(n,{default:function(){return Je}});var r=t(45987),i=t(72791),o=t(78687),a=t(91523),s=t(54270),l=t(81694),c=t.n(l),d=t(36151),u=t(68870),m=t(61889),v=t(41286),f=t(80186),p=t(14357),h=t(90944),x=t(61146),Z=t(60165),g=t(76180),j=t(81465),y=t(29439),S=t(97254),_=t(5289),I=t(63366),b=t(87462),k=t(28182),w=t(94419),N=t(66934),M=t(31402),C=t(75878),R=t(21217);function D(e){return(0,R.Z)("MuiDialogActions",e)}(0,C.Z)("MuiDialogActions",["root","spacing"]);var A=t(80184),T=["className","disableSpacing"],P=(0,N.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,!t.disableSpacing&&n.spacing]}})((function(e){var n=e.ownerState;return(0,b.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),E=i.forwardRef((function(e,n){var t=(0,M.Z)({props:e,name:"MuiDialogActions"}),r=t.className,i=t.disableSpacing,o=void 0!==i&&i,a=(0,I.Z)(t,T),s=(0,b.Z)({},t,{disableSpacing:o}),l=function(e){var n=e.classes,t={root:["root",!e.disableSpacing&&"spacing"]};return(0,w.Z)(t,D,n)}(s);return(0,A.jsx)(P,(0,b.Z)({className:(0,k.Z)(l.root,r),ownerState:s,ref:n},a))})),z=t(4942);function U(e){return(0,R.Z)("MuiDialogContent",e)}(0,C.Z)("MuiDialogContent",["root","dividers"]);var L=t(17673),F=["className","dividers"],O=(0,N.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.dividers&&n.dividers]}})((function(e){var n=e.theme,t=e.ownerState;return(0,b.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((n.vars||n).palette.divider),borderBottom:"1px solid ".concat((n.vars||n).palette.divider)}:(0,z.Z)({},".".concat(L.Z.root," + &"),{paddingTop:0}))})),B=i.forwardRef((function(e,n){var t=(0,M.Z)({props:e,name:"MuiDialogContent"}),r=t.className,i=t.dividers,o=void 0!==i&&i,a=(0,I.Z)(t,F),s=(0,b.Z)({},t,{dividers:o}),l=function(e){var n=e.classes,t={root:["root",e.dividers&&"dividers"]};return(0,w.Z)(t,U,n)}(s);return(0,A.jsx)(O,(0,b.Z)({className:(0,k.Z)(l.root,r),ownerState:s,ref:n},a))})),V=t(20890);function q(e){return(0,R.Z)("MuiDialogContentText",e)}(0,C.Z)("MuiDialogContentText",["root"]);var H=["children","className"],Q=(0,N.ZP)(V.Z,{shouldForwardProp:function(e){return(0,N.FO)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,n){return n.root}})({}),J=i.forwardRef((function(e,n){var t=(0,M.Z)({props:e,name:"MuiDialogContentText"}),r=t.className,i=(0,I.Z)(t,H),o=function(e){var n=e.classes,t=(0,w.Z)({root:["root"]},q,n);return(0,b.Z)({},n,t)}(i);return(0,A.jsx)(Q,(0,b.Z)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:i,className:(0,k.Z)(o.root,r)},t,{classes:o}))})),W=t(65661),G=t(55705),Y=t(26727),K=t(64880),$=function(){return Y.Ry({message:Y.Z_().min(10,"\u041f\u0430\u0432\u0456\u043d\u043d\u0430 \u0431\u044b\u0446\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0439 \u0437\u0430 10 \u0441\u0456\u043c\u0432\u0430\u043b\u0430\u045e").required("\u0423\u0432\u044f\u0434\u0437\u0456\u0446\u0435 \u0442\u044d\u043a\u0441\u0442")})};function X(e){var n=e.userIsAuth,t=(e.currentUser,e.artickleId),r=(0,K.k6)(),a=(0,o.I0)(),s=(0,G.TA)({onSubmit:function(e){var n=e.message;a((0,f.rW)({message:n,artickleId:t},{onSuccess:function(){g(!1),v("message","")}}))},validationSchema:$(),initialValues:{message:""}}),l=s.handleSubmit,c=s.values,m=s.handleChange,v=s.setFieldValue,p=s.errors,h=i.useState(!1),x=(0,y.Z)(h,2),Z=x[0],g=x[1],j=function(){g(!1)};return(0,A.jsx)(u.Z,{children:n?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(d.Z,{variant:"outlined",onClick:function(){g(!0)},children:"\u0417\u043d\u0430\u0439\u0448\u043b\u0456 \u043f\u0430\u043c\u044b\u043b\u043a\u0443?"}),(0,A.jsxs)(_.Z,{open:Z,onClose:j,children:[(0,A.jsx)(W.Z,{children:"\u041f\u0430\u0432\u0435\u0434\u0430\u043c\u0456\u0446\u044c \u043f\u0440\u0430 \u043f\u0430\u043c\u044b\u043b\u043a\u0443"}),(0,A.jsxs)(B,{children:[(0,A.jsx)(J,{children:"\u041f\u0430\u0432\u0435\u0434\u0430\u043c\u043b\u0435\u043d\u043d\u0435 \u043f\u0440\u0430 \u043f\u0430\u043c\u044b\u043b\u043a\u0443 \u0431\u0443\u0434\u0437\u0435 \u0430\u0434\u043f\u0440\u0430\u045e\u043b\u0435\u043d\u0430 \u043d\u0430 Email \u0434\u0430 \u0430\u045e\u0442\u0430\u0440\u0430 \u0430\u0440\u0442\u044b\u043a\u0443\u043b\u0443"}),(0,A.jsx)(S.Z,{value:c.message,onChange:m("message"),autoFocus:!0,margin:"dense",id:"name",label:"",placeholder:"\u041a\u0430\u043b\u0456 \u043b\u0430\u0441\u043a\u0430, \u0430\u043f\u0456\u0448\u044b\u0446\u0435 \u043f\u0430\u043c\u044b\u043b\u043a\u0443",fullWidth:!0,multiline:!0,variant:"standard",helperText:p.message,error:Boolean(p.message)})]}),(0,A.jsxs)(E,{children:[(0,A.jsx)(d.Z,{onClick:j,children:"\u0421\u043a\u0430\u0441\u0430\u0432\u0430\u0446\u044c"}),(0,A.jsx)(u.Z,{component:"form",ml:1,onSubmit:l,children:(0,A.jsx)(d.Z,{disableElevation:!0,variant:"contained",type:"submit",children:"\u0414\u0430\u0441\u043b\u0430\u0446\u044c"})})]})]})]}):(0,A.jsx)(d.Z,{variant:"outlined",onClick:function(){r.push("/login")},children:"\u0417\u043d\u0430\u0439\u0448\u043b\u0456 \u043f\u0430\u043c\u044b\u043b\u043a\u0443?"})})}var ee=t(9107),ne={likeContainer:"style_likeContainer__QOyse",MD_view:"style_MD_view__bhMTE"},te=t(1413),re=t(90493),ie=t(56085),oe=["artickle_id"],ae="comments",se=ie.BM,le=se.actionCreator,ce=se.apiSelector,de=new(0,ie.qz.ApiRoutes),ue="".concat(ae,"/ADD_COMMENT_REQUEST"),me="".concat(ae,"/DELETE_COMMENT_REQUEST"),ve="".concat(ae,"/GET_COMMENTS_REQUEST"),fe="".concat(ae,"/ADD_SCORE_COMMENTS_REQUEST"),pe="".concat(ae,"/REMOVE_SCORE_COMMENTS_REQUEST"),he=le(ue),xe=le(me),Ze=le(ve),ge=le(fe),je=le(pe);de.add(ue,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.artickle_id,t=(0,r.Z)(e,oe);return{url:"/comment/".concat(n),method:"post",data:t}})),de.add(ve,(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).artickle_id;return{url:"/comments/".concat(e),method:"get"}})),de.add(me,(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).comment_id;return{url:"/comment/".concat(e),method:"delete"}})),de.add(fe,(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).comment_id;return{url:"/comment/".concat(e,"/add-like"),method:"put"}})),de.add(pe,(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).comment_id;return{url:"/comment/".concat(e,"/remove-like"),method:"put"}}));var ye=ce(ve),Se=function(e){var n=e.articleId,t=e.userIsAuth,r=e.onSuccess,i=e.parent_comment_id,a=(0,o.I0)(),s=(0,G.TA)({onSubmit:function(e){var t=e.comment,o=e.user_alias;console.log(t),a(he({comment:t,artickle_id:n,user_alias:o,parent_comment_id:i},{onSuccess:function(){r(),v("comment","")}}))},validationSchema:Y.Ry({comment:Y.Z_().min(10,"\u041f\u0430\u0432\u0456\u043d\u043d\u0430 \u0431\u044b\u0446\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0439 \u0437\u0430 10 \u0441\u0456\u043c\u0432\u0430\u043b\u0430\u045e").required("\u0423\u0432\u044f\u0434\u0437\u0456\u0446\u0435 \u0442\u044d\u043a\u0441\u0442"),user_alias:Y.Z_().min(4,"\u041f\u0430\u0432\u0456\u043d\u043d\u0430 \u0431\u044b\u0446\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0439 \u0437\u0430 4 \u0441\u0456\u043c\u0432\u0430\u043b\u0430\u045e").required("\u0423\u0432\u044f\u0434\u0437\u0456\u0446\u0435 \u0456\u043c\u044f")}),initialValues:{comment:"",user_alias:""}}),l=s.handleSubmit,c=s.values,u=(s.handleReset,s.handleChange),v=s.setFieldValue,f=s.errors;return(0,A.jsxs)(m.ZP,{flexDirection:"column",mt:1,spacing:2,container:!0,direction:"column",children:[(0,A.jsx)(m.ZP,{item:!0,xs:12,children:(0,A.jsx)(S.Z,{size:"small",onChange:u("user_alias"),placeholder:"\u0412\u0430\u0448\u0430 \u0456\u043c\u044f",label:"\u0412\u0430\u0448\u0430 \u0456\u043c\u044f",value:c.user_alias,helperText:f.user_alias,error:Boolean(f.user_alias)})}),(0,A.jsx)(m.ZP,{item:!0,xs:12,children:(0,A.jsx)(S.Z,{fullWidth:!0,multiline:!0,size:"small",onChange:u("comment"),placeholder:"\u0412\u0430\u0448 \u043a\u0430\u043c\u0435\u043d\u0442\u0430\u0440",label:"\u0412\u0430\u0448 \u043a\u0430\u043c\u0435\u043d\u0442\u0430\u0440",value:c.comment,helperText:f.comment,error:Boolean(f.comment)})}),(0,A.jsx)(m.ZP,{item:!0,xs:12,children:(0,A.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,A.jsx)(m.ZP,{item:!0,children:(0,A.jsx)(d.Z,{variant:"contained",disabled:!t,onClick:function(){return l()},children:"\u0414\u0430\u0441\u043b\u0430\u0446\u044c"})}),(0,A.jsx)(m.ZP,{item:!0,children:t?null:(0,A.jsx)(V.Z,{children:"(\u041a\u0430\u0431 \u0434\u0430\u0441\u043b\u0430\u0446\u044c \u043a\u0430\u043c\u0435\u043d\u0442\u0430\u0440 \u0437\u0430\u043b\u0430\u0433\u0443\u0439\u0446\u0435\u0441\u044f \u045e \u0441\u0432\u043e\u0439 \u0443\u043b\u0456\u043a\u043e\u0432\u044b \u0437\u0430\u043f\u0456\u0441)"})})]})})]})},_e=t(13400),Ie=t(76189),be=(0,Ie.Z)((0,A.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"}),"DeleteRounded"),ke=t(15021),we=t(49900),Ne=t(66199);function Me(e){return(0,R.Z)("MuiListItemAvatar",e)}(0,C.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var Ce=["className"],Re=(0,N.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,"flex-start"===t.alignItems&&n.alignItemsFlexStart]}})((function(e){var n=e.ownerState;return(0,b.Z)({minWidth:56,flexShrink:0},"flex-start"===n.alignItems&&{marginTop:8})})),De=i.forwardRef((function(e,n){var t=(0,M.Z)({props:e,name:"MuiListItemAvatar"}),r=t.className,o=(0,I.Z)(t,Ce),a=i.useContext(Ne.Z),s=(0,b.Z)({},t,{alignItems:a.alignItems}),l=function(e){var n=e.alignItems,t=e.classes,r={root:["root","flex-start"===n&&"alignItemsFlexStart"]};return(0,w.Z)(r,Me,t)}(s);return(0,A.jsx)(Re,(0,b.Z)({className:(0,k.Z)(l.root,r),ownerState:s,ref:n},o))})),Ae=(0,Ie.Z)((0,A.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Te(e){return(0,R.Z)("MuiAvatar",e)}(0,C.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var Pe=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],Ee=(0,N.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n[t.variant],t.colorDefault&&n.colorDefault]}})((function(e){var n=e.theme,t=e.ownerState;return(0,b.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius},"square"===t.variant&&{borderRadius:0},t.colorDefault&&(0,b.Z)({color:(n.vars||n).palette.background.default},n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===n.palette.mode?n.palette.grey[400]:n.palette.grey[600]}))})),ze=(0,N.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,n){return n.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Ue=(0,N.ZP)(Ae,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,n){return n.fallback}})({width:"75%",height:"75%"});var Le=i.forwardRef((function(e,n){var t=(0,M.Z)({props:e,name:"MuiAvatar"}),r=t.alt,o=t.children,a=t.className,s=t.component,l=void 0===s?"div":s,c=t.imgProps,d=t.sizes,u=t.src,m=t.srcSet,v=t.variant,f=void 0===v?"circular":v,p=(0,I.Z)(t,Pe),h=null,x=function(e){var n=e.crossOrigin,t=e.referrerPolicy,r=e.src,o=e.srcSet,a=i.useState(!1),s=(0,y.Z)(a,2),l=s[0],c=s[1];return i.useEffect((function(){if(r||o){c(!1);var e=!0,i=new Image;return i.onload=function(){e&&c("loaded")},i.onerror=function(){e&&c("error")},i.crossOrigin=n,i.referrerPolicy=t,i.src=r,o&&(i.srcset=o),function(){e=!1}}}),[n,t,r,o]),l}((0,b.Z)({},c,{src:u,srcSet:m})),Z=u||m,g=Z&&"error"!==x,j=(0,b.Z)({},t,{colorDefault:!g,component:l,variant:f}),S=function(e){var n=e.classes,t={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,w.Z)(t,Te,n)}(j);return h=g?(0,A.jsx)(ze,(0,b.Z)({alt:r,src:u,srcSet:m,sizes:d,ownerState:j,className:S.img},c)):null!=o?o:Z&&r?r[0]:(0,A.jsx)(Ue,{className:S.fallback}),(0,A.jsx)(Ee,(0,b.Z)({as:l,ownerState:j,className:(0,k.Z)(S.root,a),ref:n},p,{children:h}))})),Fe=t(82637),Oe=t(42419),Be=t(35585),Ve=function e(n){var t=n.onSetLike,r=n.onSetDislike,o=n.currntUserIsAdmin,a=n.articleId,s=n.userIsAuth,l=n.onSuccess,c=n.item,d=n.onDelete,m=n.currentUser,v=c.user_alias,f=c.comment,p=c.comment_id,h=c.children,x=i.useState(!1),Z=(0,y.Z)(x,2),g=Z[0],j=Z[1],S=i.useState(),_=(0,y.Z)(S,2),I=_[0],b=_[1];return(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(ke.ZP,{alignItems:"flex-start",children:[(0,A.jsx)(De,{children:(0,A.jsx)(Le,{alt:v,children:v.slice(0,1)})}),(0,A.jsx)(we.Z,{primary:(0,A.jsxs)(u.Z,{display:"flex",justifyContent:"space-between",children:[(0,A.jsx)(V.Z,{variant:"subtitle1",children:v}),(0,A.jsxs)(u.Z,{display:"inline-flex",alignItems:"center",children:[!o&&(null===m||void 0===m?void 0:m.user_id)!==(null===c||void 0===c?void 0:c.user_id)||null!==c&&void 0!==c&&c.disabled?null:(0,A.jsx)(_e.Z,{size:"small",color:"error",onClick:function(){d(null===c||void 0===c?void 0:c.comment_id)},children:(0,A.jsx)(be,{fontSize:"small"})}),(0,A.jsx)(_e.Z,{color:"secondary",size:"small",onClick:function(){j(!g)},children:(0,A.jsx)(Fe.Z,{fontSize:"small"})})]})]}),secondary:(0,A.jsxs)(i.Fragment,{children:[(0,A.jsx)(V.Z,{sx:{display:"inline",whiteSpace:"pre-wrap"},component:"span",variant:"body2",color:"text.primary",children:f}),g?(0,A.jsx)(Se,{articleId:a,userIsAuth:s,onSuccess:function(){l(),j(!g)},parent_comment_id:p}):null]})})]})," ",(0,A.jsxs)(u.Z,{display:"flex",alignItems:"center",justifyContent:"flex-end",ml:1,children:[(0,A.jsx)(_e.Z,{color:"error",size:"small",disabled:I,onClick:function(){t(p),b(I?void 0:!1!==I||void 0)},children:(0,A.jsx)(Oe.Z,{fontSize:"small"})}),(0,A.jsx)(V.Z,{variant:"subtitle2",children:(null===c||void 0===c?void 0:c.score)||0}),(0,A.jsx)(_e.Z,{color:"primary",size:"small",disabled:!1===I,onClick:function(){r(p),b((!1===I||!!I)&&void 0)},children:(0,A.jsx)(Be.Z,{fontSize:"small"})})]}),h.map((function(n){return(0,A.jsx)(u.Z,{ml:10,mt:2,children:(0,A.jsx)(e,{onDelete:d,articleId:a,userIsAuth:s,onSuccess:l,currntUserIsAdmin:o,item:n,currentUser:m,onSetDislike:r,onSetLike:t},n.comment_id)})}))]})},qe=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=(n||[]).filter((function(e){return e.parent_comment_id===t})),i=(n||[]).filter((function(e){return e.parent_comment_id!==t}));return 0===r.length?[]:r.map((function(n){return(0,te.Z)((0,te.Z)({},n),{},{children:e(i||[],n.comment_id)})}))},He=function(e){var n=e.articleId,t=e.userIsAuth,r=(0,o.v9)(p.Lu),a=(0,o.I0)();i.useEffect((function(){a(Ze({artickle_id:n}))}),[n]);var s=(0,o.v9)(ye),l=r.role===j.p.SUPERADMIN||r.role===j.p.ADMIN,c=function(){a(Ze({artickle_id:n}))},d=i.useMemo((function(){return qe(s,null)}),[s]),v=function(e){a(ge({comment_id:e},{onSuccess:c})),console.log(e)},f=function(e){a(je({comment_id:e},{onSuccess:c}))};return(0,A.jsxs)(u.Z,{mt:6,padding:2,children:[(0,A.jsx)(V.Z,{variant:"h6",children:"\u041a\u0430\u043c\u0435\u043d\u0442\u0430\u0440\u044b"}),(0,A.jsx)(m.ZP,{container:!0,mb:2,children:(0,A.jsx)(m.ZP,{item:!0,xs:12,children:(0,A.jsx)(re.Z,{children:(null===d||void 0===d?void 0:d.length)>0?d.map((function(e){return(0,A.jsx)(Ve,{currentUser:r,onDelete:function(e){a(xe({comment_id:e},{onSuccess:c}))},articleId:n,userIsAuth:t,onSuccess:c,currntUserIsAdmin:l,item:e,onSetDislike:f,onSetLike:v},e.comment_id)})):null})})}),(0,A.jsx)(Se,{articleId:n,userIsAuth:t,onSuccess:c})]})},Qe=["match","history","route"],Je=function(e){var n,t,l,y,S,_,I,b=e.match.params.id,k=e.history,w=e.route.userIsAuth,N=((0,r.Z)(e,Qe),(0,o.I0)()),M=(0,o.v9)(p.Lu),C=(0,o.v9)(f.cL);i.useEffect((function(){b&&N((0,f.GU)({id:b}))}),[b]);var R=null===C||void 0===C||null===(n=C.meta)||void 0===n?void 0:n.title,D=null!==(t=null===C||void 0===C||null===(l=C.meta)||void 0===l?void 0:l.description)&&void 0!==t?t:null===C||void 0===C||null===(y=C.meta)||void 0===y?void 0:y.title;return C?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsxs)(s.q,{children:[(0,A.jsx)("title",{children:R}),(0,A.jsx)("meta",{name:"description",content:D}),(0,A.jsx)("meta",{property:"og:url",content:"https://bel-frontend.online/article/".concat(b)}),(0,A.jsx)("meta",{property:"og:type",content:"website"}),(0,A.jsx)("meta",{property:"og:title",content:R}),(0,A.jsx)("meta",{property:"og:description",content:D}),(0,A.jsx)("meta",{property:"og:image",content:"https://bel-frontend.online".concat(ee)}),(0,A.jsx)("meta",{name:"twitter:card",content:"https://bel-frontend.online".concat(ee)}),(0,A.jsx)("meta",{property:"twitter:domain",content:"bel-frontend.online"}),(0,A.jsx)("meta",{property:"twitter:url",content:"https://bel-frontend.online/article/".concat(b)}),(0,A.jsx)("meta",{name:"twitter:title",content:R}),(0,A.jsx)("meta",{name:"twitter:description",content:D}),(0,A.jsx)("meta",{name:"twitter:image",content:"https://bel-frontend.online".concat(ee)})]}),(0,A.jsxs)("div",{className:"articlePage",children:[(0,A.jsx)(a.rU,{to:"/",children:"\u0413\u0430\u043b\u043e\u045e\u043d\u0430\u044f"})," ",(0,A.jsxs)("span",{children:[">"," "]}),(0,A.jsx)("span",{children:R})]}),(0,A.jsx)("div",{className:c()(ne.likeContainer),children:(0,A.jsx)(Z.d,{likesCount:(null===C||void 0===C?void 0:C.likes)||0,className:ne.likeButton,articleId:b})}),(0,A.jsx)("main",{className:"page__main main articlePage",children:(0,A.jsxs)("article",{className:"episode box",children:[(0,A.jsx)("h2",{className:"episode__title",children:null===C||void 0===C||null===(S=C.meta)||void 0===S?void 0:S.title}),((null===C||void 0===C||null===(_=C.meta)||void 0===_?void 0:_.tags.toString().split(","))||[]).map((function(e){return(0,A.jsx)(g.V,{children:e},e)})),(0,A.jsx)("div",{className:"content",children:(0,A.jsx)(h.MD,{className:ne.MD_view,children:null===C||void 0===C?void 0:C.content})}),(0,A.jsx)(x.U,{showReadButton:!1,showLikes:!1,showTags:!1,meta:null===C||void 0===C?void 0:C.meta,articleId:b}),(0,A.jsx)(u.Z,{marginTop:2}),(0,A.jsxs)(m.ZP,{marginTop:2,spacing:2,container:!0,children:[(0,A.jsx)(m.ZP,{item:!0,children:(0,A.jsx)(X,{userIsAuth:w,currentUser:M,artickleId:b})}),(0,A.jsx)(m.ZP,{item:!0,children:!w||(null===M||void 0===M?void 0:M.user_id)!==(null===C||void 0===C||null===(I=C.meta)||void 0===I?void 0:I.user_id)&&M.role!==j.p.SUPERADMIN?null:(0,A.jsx)(d.Z,{variant:"outlined",color:"primary",className:ne.editButton,onClick:function(){k.push("/editor/".concat(b))},endIcon:(0,A.jsx)(v.Z,{}),children:"\u0420\u044d\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044c"})}),(0,A.jsx)(m.ZP,{item:!0,xs:12,children:(0,A.jsx)(He,{userIsAuth:w,articleId:b})})]})]})})]}):null}},42419:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),o=t(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");n.Z=a},35585:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),o=t(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");n.Z=a},82637:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),o=t(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"Reply");n.Z=a},49900:function(e,n,t){var r=t(4942),i=t(63366),o=t(87462),a=t(72791),s=t(28182),l=t(94419),c=t(20890),d=t(66199),u=t(31402),m=t(66934),v=t(29849),f=t(80184),p=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],h=(0,m.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[(0,r.Z)({},"& .".concat(v.Z.primary),n.primary),(0,r.Z)({},"& .".concat(v.Z.secondary),n.secondary),n.root,t.inset&&n.inset,t.primary&&t.secondary&&n.multiline,t.dense&&n.dense]}})((function(e){var n=e.ownerState;return(0,o.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},n.primary&&n.secondary&&{marginTop:6,marginBottom:6},n.inset&&{paddingLeft:56})})),x=a.forwardRef((function(e,n){var t=(0,u.Z)({props:e,name:"MuiListItemText"}),r=t.children,m=t.className,x=t.disableTypography,Z=void 0!==x&&x,g=t.inset,j=void 0!==g&&g,y=t.primary,S=t.primaryTypographyProps,_=t.secondary,I=t.secondaryTypographyProps,b=(0,i.Z)(t,p),k=a.useContext(d.Z).dense,w=null!=y?y:r,N=_,M=(0,o.Z)({},t,{disableTypography:Z,inset:j,primary:!!w,secondary:!!N,dense:k}),C=function(e){var n=e.classes,t=e.inset,r=e.primary,i=e.secondary,o={root:["root",t&&"inset",e.dense&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,l.Z)(o,v.L,n)}(M);return null==w||w.type===c.Z||Z||(w=(0,f.jsx)(c.Z,(0,o.Z)({variant:k?"body2":"body1",className:C.primary,component:null!=S&&S.variant?void 0:"span",display:"block"},S,{children:w}))),null==N||N.type===c.Z||Z||(N=(0,f.jsx)(c.Z,(0,o.Z)({variant:"body2",className:C.secondary,color:"text.secondary",display:"block"},I,{children:N}))),(0,f.jsxs)(h,(0,o.Z)({className:(0,s.Z)(C.root,m),ownerState:M,ref:n},b,{children:[w,N]}))}));n.Z=x}}]);
//# sourceMappingURL=716.ccbbd0b9.chunk.js.map