"use strict";(self.webpackChunkbel_frontend=self.webpackChunkbel_frontend||[]).push([[716],{60165:function(e,n,t){t.d(n,{d:function(){return S}});var r=t(74165),i=t(15861),o=t(29439),a=t(72791),l=t(93433),s=t(72685),c=t(44702),d=t(65390),u=(0,c.ZF)({apiKey:"AIzaSyCw3D0uzLYTCx7N8IQqP_v68le913Ha75U",authDomain:"bel-frontend.firebaseapp.com",projectId:"bel-frontend",messagingSenderId:"47972660046",appId:"1:47972660046:web:8f3adf6f5c9c16e542241f",measurementId:"G-REGR3FB1CP"}),m=((0,d.IH)(u),(0,s.N8)(u),function(e){return(JSON.parse(localStorage.getItem("user_liked_item")||"[]")||[]).find((function(n){return n===e}))}),p=function(e){var n=JSON.parse(localStorage.getItem("user_liked_item")||"[]")||[];localStorage.setItem("user_liked_item",JSON.stringify([].concat((0,l.Z)(n),[e])))},v=function(e){var n=JSON.parse(localStorage.getItem("user_liked_item")||"[]")||[];localStorage.setItem("user_liked_item",JSON.stringify((0,l.Z)(n.filter((function(n){return n!==e})))))},h=t(80186),f=t(36151),x=t(78687),Z=t(80184),g=function(){return(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"white",children:(0,Z.jsx)("path",{d:"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z"})})},j="style_count_likes__vb5OL",S=function(e){var n=e.articleId,t=(e.className,e.likesCount),l=(0,x.I0)(),s=a.useState(t),c=(0,o.Z)(s,2),d=c[0],u=c[1];a.useEffect((function(){u(t)}),[t]);var S=a.useCallback((0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m(n)){e.next=6;break}return e.next=3,l((0,h.Qf)({id:n},{onSuccess:function(e){var n=e.data;u(null===n||void 0===n?void 0:n.count)}}));case 3:p(n),e.next=9;break;case 6:return e.next=8,l((0,h.BD)({id:n},{onSuccess:function(e){var n=e.data;u(null===n||void 0===n?void 0:n.count)}}));case 8:v(n);case 9:case"end":return e.stop()}}),e)}))),[n]);return(0,Z.jsxs)(f.Z,{color:"error",type:"button",variant:"contained",size:"small",onClick:S,disableElevation:!0,children:[(0,Z.jsx)(g,{}),(0,Z.jsx)("span",{className:j,children:d})]})}},76180:function(e,n,t){t.d(n,{V:function(){return a}});t(72791);var r=t(81918),i="style_tag__vxBM0",o=t(80184),a=function(e){var n=e.children;return(0,o.jsx)(r.Z,{size:"small",className:i,label:n})}},90944:function(e,n,t){t.d(n,{MD:function(){return m}});var r=t(1413),i=t(45987),o=(t(72791),t(29390)),a=t(64209),l=t(94155),s=t(6125),c={container:"style_container__-J27M"},d=t(80184),u=["node","inline","className","children"],m=function(e){var n=e.children,t=e.className,m=void 0===t?"":t;return(0,d.jsx)(o.D,{className:[c.container,m].join(" "),remarkPlugins:[l.Z],components:{code:function(e){e.node;var n=e.inline,t=e.className,o=e.children,l=(0,i.Z)(e,u);return n?(0,d.jsx)("code",(0,r.Z)((0,r.Z)({className:t},l),{},{children:o})):(0,d.jsx)(a.Z,{language:"javascript",style:s.Z,children:String(o).replace(/\n$/,"")})}},children:n})}},61146:function(e,n,t){t.d(n,{U:function(){return d}});t(72791);var r=t(91523),i=t(60165),o=t(76180),a=t(36151),l=t(68870),s="style_episode_meta__kDtMn",c=t(80184),d=function(e){var n=e.meta,t=e.showReadButton,d=void 0===t||t,u=e.url,m=e.articleId,p=e.likes,v=e.showTags,h=void 0===v||v,f=n||{},x=f.author,Z=void 0===x?"":x,g=f.dateArticle,j=void 0===g?"":g;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:s,children:[d?(0,c.jsx)(r.rU,{to:u,children:(0,c.jsx)(a.Z,{variant:"contained",color:"primary",size:"small",disableElevation:!0,children:"\u0427\u044b\u0442\u0430\u0446\u044c"})}):null,d?(0,c.jsx)(i.d,{likesCount:p,articleId:m}):null]}),(0,c.jsx)("div",{children:h&&((null===n||void 0===n?void 0:n.tags.toString().split(","))||[]).map((function(e){return(0,c.jsx)(o.V,{children:e},e)}))}),(0,c.jsxs)(l.Z,{marginTop:1,children:[(0,c.jsx)("span",{className:"author",children:Z}),",",(0,c.jsxs)("span",{className:"date-article",children:[" ",j]})]})]})}},81465:function(e,n,t){var r;t.d(n,{p:function(){return r}}),function(e){e.USER="USER",e.SUPERADMIN="SUPERADMIN",e.ADMIN="ADMIN"}(r||(r={}))},48716:function(e,n,t){t.r(n),t.d(n,{default:function(){return Qe}});var r=t(45987),i=t(72791),o=t(78687),a=t(91523),l=t(54270),s=t(81694),c=t.n(s),d=t(36151),u=t(68870),m=t(61889),p=t(41286),v=t(80186),h=t(14357),f=t(90944),x=t(61146),Z=t(60165),g=t(76180),j=t(81465),S=t(29439),y=t(97254),b=t(5289),k=t(63366),_=t(87462),w=t(28182),I=t(94419),M=t(66934),N=t(31402),C=t(75878),D=t(21217);function P(e){return(0,D.Z)("MuiDialogActions",e)}(0,C.Z)("MuiDialogActions",["root","spacing"]);var R=t(80184),T=["className","disableSpacing"],A=(0,M.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,!t.disableSpacing&&n.spacing]}})((function(e){var n=e.ownerState;return(0,_.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),E=i.forwardRef((function(e,n){var t=(0,N.Z)({props:e,name:"MuiDialogActions"}),r=t.className,i=t.disableSpacing,o=void 0!==i&&i,a=(0,k.Z)(t,T),l=(0,_.Z)({},t,{disableSpacing:o}),s=function(e){var n=e.classes,t={root:["root",!e.disableSpacing&&"spacing"]};return(0,I.Z)(t,P,n)}(l);return(0,R.jsx)(A,(0,_.Z)({className:(0,w.Z)(s.root,r),ownerState:l,ref:n},a))})),W=t(4942);function z(e){return(0,D.Z)("MuiDialogContent",e)}(0,C.Z)("MuiDialogContent",["root","dividers"]);var B=t(17673),F=["className","dividers"],U=(0,M.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.dividers&&n.dividers]}})((function(e){var n=e.theme,t=e.ownerState;return(0,_.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},t.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((n.vars||n).palette.divider),borderBottom:"1px solid ".concat((n.vars||n).palette.divider)}:(0,W.Z)({},".".concat(B.Z.root," + &"),{paddingTop:0}))})),L=i.forwardRef((function(e,n){var t=(0,N.Z)({props:e,name:"MuiDialogContent"}),r=t.className,i=t.dividers,o=void 0!==i&&i,a=(0,k.Z)(t,F),l=(0,_.Z)({},t,{dividers:o}),s=function(e){var n=e.classes,t={root:["root",e.dividers&&"dividers"]};return(0,I.Z)(t,z,n)}(l);return(0,R.jsx)(U,(0,_.Z)({className:(0,w.Z)(s.root,r),ownerState:l,ref:n},a))})),O=t(20890);function V(e){return(0,D.Z)("MuiDialogContentText",e)}(0,C.Z)("MuiDialogContentText",["root"]);var H=["children","className"],q=(0,M.ZP)(O.Z,{shouldForwardProp:function(e){return(0,M.FO)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,n){return n.root}})({}),Q=i.forwardRef((function(e,n){var t=(0,N.Z)({props:e,name:"MuiDialogContentText"}),r=t.className,i=(0,k.Z)(t,H),o=function(e){var n=e.classes,t=(0,I.Z)({root:["root"]},V,n);return(0,_.Z)({},n,t)}(i);return(0,R.jsx)(q,(0,_.Z)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:i,className:(0,w.Z)(o.root,r)},t,{classes:o}))})),J=t(65661),K=t(55705),Y=t(26727),G=t(64880),X=function(){return Y.Ry({message:Y.Z_().min(10,"\u041f\u0430\u0432\u0456\u043d\u043d\u0430 \u0431\u044b\u0446\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0439 \u0437\u0430 10 \u0441\u0456\u043c\u0432\u0430\u043b\u0430\u045e").required("\u0423\u0432\u044f\u0434\u0437\u0456\u0446\u0435 \u0442\u044d\u043a\u0441\u0442")})};function $(e){var n=e.userIsAuth,t=(e.currentUser,e.artickleId),r=(0,G.k6)(),a=(0,o.I0)(),l=(0,K.TA)({onSubmit:function(e){var n=e.message;a((0,v.rW)({message:n,artickleId:t},{onSuccess:function(){g(!1),p("message","")}}))},validationSchema:X(),initialValues:{message:""}}),s=l.handleSubmit,c=l.values,m=l.handleChange,p=l.setFieldValue,h=l.errors,f=i.useState(!1),x=(0,S.Z)(f,2),Z=x[0],g=x[1],j=function(){g(!1)};return(0,R.jsx)(u.Z,{children:n?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(d.Z,{variant:"outlined",onClick:function(){g(!0)},children:"\u0417\u043d\u0430\u0439\u0448\u043b\u0456 \u043f\u0430\u043c\u044b\u043b\u043a\u0443?"}),(0,R.jsxs)(b.Z,{open:Z,onClose:j,children:[(0,R.jsx)(J.Z,{children:"\u041f\u0430\u0432\u0435\u0434\u0430\u043c\u0456\u0446\u044c \u043f\u0440\u0430 \u043f\u0430\u043c\u044b\u043b\u043a\u0443"}),(0,R.jsxs)(L,{children:[(0,R.jsx)(Q,{children:"\u041f\u0430\u0432\u0435\u0434\u0430\u043c\u043b\u0435\u043d\u043d\u0435 \u043f\u0440\u0430 \u043f\u0430\u043c\u044b\u043b\u043a\u0443 \u0431\u0443\u0434\u0437\u0435 \u0430\u0434\u043f\u0440\u0430\u045e\u043b\u0435\u043d\u0430 \u043d\u0430 Email \u0434\u0430 \u0430\u045e\u0442\u0430\u0440\u0430 \u0430\u0440\u0442\u044b\u043a\u0443\u043b\u0443"}),(0,R.jsx)(y.Z,{value:c.message,onChange:m("message"),autoFocus:!0,margin:"dense",id:"name",label:"",placeholder:"\u041a\u0430\u043b\u0456 \u043b\u0430\u0441\u043a\u0430, \u0430\u043f\u0456\u0448\u044b\u0446\u0435 \u043f\u0430\u043c\u044b\u043b\u043a\u0443",fullWidth:!0,multiline:!0,variant:"standard",helperText:h.message,error:Boolean(h.message)})]}),(0,R.jsxs)(E,{children:[(0,R.jsx)(d.Z,{onClick:j,children:"\u0421\u043a\u0430\u0441\u0430\u0432\u0430\u0446\u044c"}),(0,R.jsx)(u.Z,{component:"form",ml:1,onSubmit:s,children:(0,R.jsx)(d.Z,{disableElevation:!0,variant:"contained",type:"submit",children:"\u0414\u0430\u0441\u043b\u0430\u0446\u044c"})})]})]})]}):(0,R.jsx)(d.Z,{variant:"outlined",onClick:function(){r.push("/login")},children:"\u0417\u043d\u0430\u0439\u0448\u043b\u0456 \u043f\u0430\u043c\u044b\u043b\u043a\u0443?"})})}var ee=t(9107),ne={likeContainer:"style_likeContainer__QOyse",MD_view:"style_MD_view__bhMTE"},te=t(1413),re=t(90493),ie=t(56085),oe=["artickle_id"],ae="comments",le=ie.BM,se=le.actionCreator,ce=le.apiSelector,de=new(0,ie.qz.ApiRoutes),ue="".concat(ae,"/ADD_COMMENT_REQUEST"),me="".concat(ae,"/DELETE_COMMENT_REQUEST"),pe="".concat(ae,"/GET_COMMENTS_REQUEST"),ve="".concat(ae,"/ADD_SCORE_COMMENTS_REQUEST"),he="".concat(ae,"/REMOVE_SCORE_COMMENTS_REQUEST"),fe=se(ue),xe=se(me),Ze=se(pe),ge=se(ve),je=se(he);de.add(ue,(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.artickle_id,t=(0,r.Z)(e,oe);return{url:"/comment/".concat(n),method:"post",data:t}})),de.add(pe,(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).artickle_id;return{url:"/comments/".concat(e),method:"get"}})),de.add(me,(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).comment_id;return{url:"/comment/".concat(e),method:"delete"}})),de.add(ve,(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).comment_id;return{url:"/comment/".concat(e,"/add-like"),method:"put"}})),de.add(he,(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).comment_id;return{url:"/comment/".concat(e,"/remove-like"),method:"put"}}));var Se=ce(pe),ye=function(e){var n=e.articleId,t=e.userIsAuth,r=e.onSuccess,i=e.parent_comment_id,a=(0,o.I0)(),l=(0,K.TA)({onSubmit:function(e){var t=e.comment,o=e.user_alias;console.log(t),a(fe({comment:t,artickle_id:n,user_alias:o,parent_comment_id:i},{onSuccess:function(){r(),p("comment","")}}))},validationSchema:Y.Ry({comment:Y.Z_().min(10,"\u041f\u0430\u0432\u0456\u043d\u043d\u0430 \u0431\u044b\u0446\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0439 \u0437\u0430 10 \u0441\u0456\u043c\u0432\u0430\u043b\u0430\u045e").required("\u0423\u0432\u044f\u0434\u0437\u0456\u0446\u0435 \u0442\u044d\u043a\u0441\u0442"),user_alias:Y.Z_().min(4,"\u041f\u0430\u0432\u0456\u043d\u043d\u0430 \u0431\u044b\u0446\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0439 \u0437\u0430 4 \u0441\u0456\u043c\u0432\u0430\u043b\u0430\u045e").required("\u0423\u0432\u044f\u0434\u0437\u0456\u0446\u0435 \u0456\u043c\u044f")}),initialValues:{comment:"",user_alias:""}}),s=l.handleSubmit,c=l.values,u=(l.handleReset,l.handleChange),p=l.setFieldValue,v=l.errors;return(0,R.jsxs)(m.ZP,{flexDirection:"column",mt:1,spacing:2,container:!0,direction:"column",children:[(0,R.jsx)(m.ZP,{item:!0,xs:12,children:(0,R.jsx)(y.Z,{size:"small",onChange:u("user_alias"),placeholder:"\u0412\u0430\u0448\u0430 \u0456\u043c\u044f",label:"\u0412\u0430\u0448\u0430 \u0456\u043c\u044f",value:c.user_alias,helperText:v.user_alias,error:Boolean(v.user_alias)})}),(0,R.jsx)(m.ZP,{item:!0,xs:12,children:(0,R.jsx)(y.Z,{fullWidth:!0,multiline:!0,size:"small",onChange:u("comment"),placeholder:"\u0412\u0430\u0448 \u043a\u0430\u043c\u0435\u043d\u0442\u0430\u0440",label:"\u0412\u0430\u0448 \u043a\u0430\u043c\u0435\u043d\u0442\u0430\u0440",value:c.comment,helperText:v.comment,error:Boolean(v.comment)})}),(0,R.jsx)(m.ZP,{item:!0,xs:12,children:(0,R.jsxs)(m.ZP,{container:!0,spacing:2,children:[(0,R.jsx)(m.ZP,{item:!0,children:(0,R.jsx)(d.Z,{variant:"contained",disabled:!t,onClick:function(){return s()},children:"\u0414\u0430\u0441\u043b\u0430\u0446\u044c"})}),(0,R.jsx)(m.ZP,{item:!0,children:t?null:(0,R.jsx)(O.Z,{children:"(\u041a\u0430\u0431 \u0434\u0430\u0441\u043b\u0430\u0446\u044c \u043a\u0430\u043c\u0435\u043d\u0442\u0430\u0440 \u0437\u0430\u043b\u0430\u0433\u0443\u0439\u0446\u0435\u0441\u044f \u045e \u0441\u0432\u043e\u0439 \u0443\u043b\u0456\u043a\u043e\u0432\u044b \u0437\u0430\u043f\u0456\u0441)"})})]})})]})},be=t(13400),ke=t(76189),_e=(0,ke.Z)((0,R.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM18 4h-2.5l-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1z"}),"DeleteRounded"),we=t(15021),Ie=t(49900),Me=t(66199);function Ne(e){return(0,D.Z)("MuiListItemAvatar",e)}(0,C.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var Ce=["className"],De=(0,M.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,"flex-start"===t.alignItems&&n.alignItemsFlexStart]}})((function(e){var n=e.ownerState;return(0,_.Z)({minWidth:56,flexShrink:0},"flex-start"===n.alignItems&&{marginTop:8})})),Pe=i.forwardRef((function(e,n){var t=(0,N.Z)({props:e,name:"MuiListItemAvatar"}),r=t.className,o=(0,k.Z)(t,Ce),a=i.useContext(Me.Z),l=(0,_.Z)({},t,{alignItems:a.alignItems}),s=function(e){var n=e.alignItems,t=e.classes,r={root:["root","flex-start"===n&&"alignItemsFlexStart"]};return(0,I.Z)(r,Ne,t)}(l);return(0,R.jsx)(De,(0,_.Z)({className:(0,w.Z)(s.root,r),ownerState:l,ref:n},o))})),Re=(0,ke.Z)((0,R.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Te(e){return(0,D.Z)("MuiAvatar",e)}(0,C.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var Ae=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],Ee=(0,M.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,n[t.variant],t.colorDefault&&n.colorDefault]}})((function(e){var n=e.theme,t=e.ownerState;return(0,_.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:n.typography.fontFamily,fontSize:n.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===t.variant&&{borderRadius:(n.vars||n).shape.borderRadius},"square"===t.variant&&{borderRadius:0},t.colorDefault&&(0,_.Z)({color:(n.vars||n).palette.background.default},n.vars?{backgroundColor:n.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===n.palette.mode?n.palette.grey[400]:n.palette.grey[600]}))})),We=(0,M.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,n){return n.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),ze=(0,M.ZP)(Re,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,n){return n.fallback}})({width:"75%",height:"75%"});var Be=i.forwardRef((function(e,n){var t=(0,N.Z)({props:e,name:"MuiAvatar"}),r=t.alt,o=t.children,a=t.className,l=t.component,s=void 0===l?"div":l,c=t.imgProps,d=t.sizes,u=t.src,m=t.srcSet,p=t.variant,v=void 0===p?"circular":p,h=(0,k.Z)(t,Ae),f=null,x=function(e){var n=e.crossOrigin,t=e.referrerPolicy,r=e.src,o=e.srcSet,a=i.useState(!1),l=(0,S.Z)(a,2),s=l[0],c=l[1];return i.useEffect((function(){if(r||o){c(!1);var e=!0,i=new Image;return i.onload=function(){e&&c("loaded")},i.onerror=function(){e&&c("error")},i.crossOrigin=n,i.referrerPolicy=t,i.src=r,o&&(i.srcset=o),function(){e=!1}}}),[n,t,r,o]),s}((0,_.Z)({},c,{src:u,srcSet:m})),Z=u||m,g=Z&&"error"!==x,j=(0,_.Z)({},t,{colorDefault:!g,component:s,variant:v}),y=function(e){var n=e.classes,t={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,I.Z)(t,Te,n)}(j);return f=g?(0,R.jsx)(We,(0,_.Z)({alt:r,src:u,srcSet:m,sizes:d,ownerState:j,className:y.img},c)):null!=o?o:Z&&r?r[0]:(0,R.jsx)(ze,{className:y.fallback}),(0,R.jsx)(Ee,(0,_.Z)({as:s,ownerState:j,className:(0,w.Z)(y.root,a),ref:n},h,{children:f}))})),Fe=t(82637),Ue=t(42419),Le=t(35585),Oe=function e(n){var t=n.onSetLike,r=n.onSetDislike,o=n.currntUserIsAdmin,a=n.articleId,l=n.userIsAuth,s=n.onSuccess,c=n.item,d=n.onDelete,m=n.currentUser,p=c.user_alias,v=c.comment,h=c.comment_id,f=c.children,x=i.useState(!1),Z=(0,S.Z)(x,2),g=Z[0],j=Z[1],y=i.useState(),b=(0,S.Z)(y,2),k=b[0],_=b[1];return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(we.ZP,{alignItems:"flex-start",children:[(0,R.jsx)(Pe,{children:(0,R.jsx)(Be,{alt:p,children:p.slice(0,1)})}),(0,R.jsx)(Ie.Z,{primary:(0,R.jsxs)(u.Z,{display:"flex",justifyContent:"space-between",children:[(0,R.jsx)(O.Z,{variant:"subtitle1",children:p}),(0,R.jsxs)(u.Z,{display:"inline-flex",alignItems:"center",children:[!o&&(null===m||void 0===m?void 0:m.user_id)!==(null===c||void 0===c?void 0:c.user_id)||null!==c&&void 0!==c&&c.disabled?null:(0,R.jsx)(be.Z,{size:"small",color:"error",onClick:function(){d(null===c||void 0===c?void 0:c.comment_id)},children:(0,R.jsx)(_e,{fontSize:"small"})}),(0,R.jsx)(be.Z,{color:"secondary",size:"small",onClick:function(){j(!g)},children:(0,R.jsx)(Fe.Z,{fontSize:"small"})})]})]}),secondary:(0,R.jsxs)(i.Fragment,{children:[(0,R.jsx)(O.Z,{sx:{display:"inline",whiteSpace:"pre-wrap"},component:"span",variant:"body2",color:"text.primary",children:v}),g?(0,R.jsx)(ye,{articleId:a,userIsAuth:l,onSuccess:function(){s(),j(!g)},parent_comment_id:h}):null]})})]})," ",(0,R.jsxs)(u.Z,{display:"flex",alignItems:"center",justifyContent:"flex-end",ml:1,children:[(0,R.jsx)(be.Z,{color:"error",size:"small",disabled:k,onClick:function(){t(h),_(k?void 0:!1!==k||void 0)},children:(0,R.jsx)(Ue.Z,{fontSize:"small"})}),(0,R.jsx)(O.Z,{variant:"subtitle2",children:(null===c||void 0===c?void 0:c.score)||0}),(0,R.jsx)(be.Z,{color:"primary",size:"small",disabled:!1===k,onClick:function(){r(h),_((!1===k||!!k)&&void 0)},children:(0,R.jsx)(Le.Z,{fontSize:"small"})})]}),f.map((function(n){return(0,R.jsx)(u.Z,{ml:10,mt:2,children:(0,R.jsx)(e,{onDelete:d,articleId:a,userIsAuth:l,onSuccess:s,currntUserIsAdmin:o,item:n,currentUser:m,onSetDislike:r,onSetLike:t},n.comment_id)})}))]})},Ve=function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=(n||[]).filter((function(e){return e.parent_comment_id===t})),i=(n||[]).filter((function(e){return e.parent_comment_id!==t}));return 0===r.length?[]:r.map((function(n){return(0,te.Z)((0,te.Z)({},n),{},{children:e(i||[],n.comment_id)})}))},He=function(e){var n=e.articleId,t=e.userIsAuth,r=(0,o.v9)(h.Lu),a=(0,o.I0)();i.useEffect((function(){a(Ze({artickle_id:n}))}),[n]);var l=(0,o.v9)(Se),s=r.role===j.p.SUPERADMIN||r.role===j.p.ADMIN,c=function(){a(Ze({artickle_id:n}))},d=i.useMemo((function(){return Ve(l,null)}),[l]),p=function(e){a(ge({comment_id:e},{onSuccess:c})),console.log(e)},v=function(e){a(je({comment_id:e},{onSuccess:c}))};return(0,R.jsxs)(u.Z,{mt:6,padding:2,children:[(0,R.jsx)(O.Z,{variant:"h6",children:"\u041a\u0430\u043c\u0435\u043d\u0442\u0430\u0440\u044b"}),(0,R.jsx)(m.ZP,{container:!0,mb:2,children:(0,R.jsx)(m.ZP,{item:!0,xs:12,children:(0,R.jsx)(re.Z,{children:(null===d||void 0===d?void 0:d.length)>0?d.map((function(e){return(0,R.jsx)(Oe,{currentUser:r,onDelete:function(e){a(xe({comment_id:e},{onSuccess:c}))},articleId:n,userIsAuth:t,onSuccess:c,currntUserIsAdmin:s,item:e,onSetDislike:v,onSetLike:p},e.comment_id)})):null})})}),(0,R.jsx)(ye,{articleId:n,userIsAuth:t,onSuccess:c})]})},qe=["match","history","route"],Qe=function(e){var n,t,s,S,y,b,k,_=e.match.params.id,w=e.history,I=e.route.userIsAuth,M=((0,r.Z)(e,qe),(0,o.I0)()),N=(0,o.v9)(h.Lu),C=(0,o.v9)(v.cL);i.useEffect((function(){_&&M((0,v.GU)({id:_}))}),[_]);var D=null===C||void 0===C||null===(n=C.meta)||void 0===n?void 0:n.title,P=null!==(t=null===C||void 0===C||null===(s=C.meta)||void 0===s?void 0:s.description)&&void 0!==t?t:null===C||void 0===C||null===(S=C.meta)||void 0===S?void 0:S.title;return C?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsxs)(l.q,{children:[(0,R.jsx)("title",{children:D}),(0,R.jsx)("meta",{name:"description",content:P}),(0,R.jsx)("meta",{property:"og:url",content:"https://bel-frontend.online/article/".concat(_)}),(0,R.jsx)("meta",{property:"og:type",content:"website"}),(0,R.jsx)("meta",{property:"og:title",content:D}),(0,R.jsx)("meta",{property:"og:description",content:P}),(0,R.jsx)("meta",{property:"og:image",content:"https://bel-frontend.online".concat(ee)}),(0,R.jsx)("meta",{name:"twitter:card",content:"https://bel-frontend.online".concat(ee)}),(0,R.jsx)("meta",{property:"twitter:domain",content:"bel-frontend.online"}),(0,R.jsx)("meta",{property:"twitter:url",content:"https://bel-frontend.online/article/".concat(_)}),(0,R.jsx)("meta",{name:"twitter:title",content:D}),(0,R.jsx)("meta",{name:"twitter:description",content:P}),(0,R.jsx)("meta",{name:"twitter:image",content:"https://bel-frontend.online".concat(ee)})]}),(0,R.jsxs)("div",{className:"articlePage",children:[(0,R.jsx)(a.rU,{to:"/",children:"\u0413\u0430\u043b\u043e\u045e\u043d\u0430\u044f"})," ",(0,R.jsxs)("span",{children:[">"," "]}),(0,R.jsx)("span",{children:D})]}),(0,R.jsx)("div",{className:c()(ne.likeContainer),children:(0,R.jsx)(Z.d,{likesCount:(null===C||void 0===C?void 0:C.likes)||0,className:ne.likeButton,articleId:_})}),(0,R.jsx)("main",{className:"page__main main articlePage",children:(0,R.jsxs)("article",{className:"episode box",children:[(0,R.jsx)("h2",{className:"episode__title",children:null===C||void 0===C||null===(y=C.meta)||void 0===y?void 0:y.title}),((null===C||void 0===C||null===(b=C.meta)||void 0===b?void 0:b.tags.toString().split(","))||[]).map((function(e){return(0,R.jsx)(g.V,{children:e},e)})),(0,R.jsx)("div",{className:"content",children:(0,R.jsx)(f.MD,{className:ne.MD_view,children:null===C||void 0===C?void 0:C.content})}),(0,R.jsx)(x.U,{showReadButton:!1,showLikes:!1,showTags:!1,meta:null===C||void 0===C?void 0:C.meta,articleId:_}),(0,R.jsx)(u.Z,{marginTop:2}),(0,R.jsxs)(m.ZP,{marginTop:2,spacing:2,container:!0,children:[(0,R.jsx)(m.ZP,{item:!0,children:(0,R.jsx)($,{userIsAuth:I,currentUser:N,artickleId:_})}),(0,R.jsx)(m.ZP,{item:!0,children:!I||(null===N||void 0===N?void 0:N.user_id)!==(null===C||void 0===C||null===(k=C.meta)||void 0===k?void 0:k.user_id)&&N.role!==j.p.SUPERADMIN?null:(0,R.jsx)(d.Z,{variant:"outlined",color:"primary",className:ne.editButton,onClick:function(){w.push("/editor/".concat(_))},endIcon:(0,R.jsx)(p.Z,{}),children:"\u0420\u044d\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044c"})}),(0,R.jsx)(m.ZP,{item:!0,xs:12,children:(0,R.jsx)(He,{userIsAuth:I,articleId:_})})]})]})})]}):null}},42419:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),o=t(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");n.Z=a},35585:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),o=t(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M19 13H5v-2h14v2z"}),"Remove");n.Z=a},82637:function(e,n,t){var r=t(64836);n.Z=void 0;var i=r(t(45649)),o=t(80184),a=(0,i.default)((0,o.jsx)("path",{d:"M10 9V5l-7 7 7 7v-4.1c5 0 8.5 1.6 11 5.1-1-5-4-10-11-11z"}),"Reply");n.Z=a},5289:function(e,n,t){t.d(n,{Z:function(){return N}});var r=t(4942),i=t(63366),o=t(87462),a=t(72791),l=t(28182),s=t(94419),c=t(96248),d=t(14036),u=t(24082),m=t(60627),p=t(35527),v=t(31402),h=t(66934),f=t(75878),x=t(21217);function Z(e){return(0,x.Z)("MuiDialog",e)}var g=(0,f.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),j=t(85090),S=t(52739),y=t(13967),b=t(80184),k=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],_=(0,h.ZP)(S.Z,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,n){return n.backdrop}})({zIndex:-1}),w=(0,h.ZP)(u.Z,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,n){return n.root}})({"@media print":{position:"absolute !important"}}),I=(0,h.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,n){var t=e.ownerState;return[n.container,n["scroll".concat((0,d.Z)(t.scroll))]]}})((function(e){var n=e.ownerState;return(0,o.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===n.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===n.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),M=(0,h.ZP)(p.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,n){var t=e.ownerState;return[n.paper,n["scrollPaper".concat((0,d.Z)(t.scroll))],n["paperWidth".concat((0,d.Z)(String(t.maxWidth)))],t.fullWidth&&n.paperFullWidth,t.fullScreen&&n.paperFullScreen]}})((function(e){var n=e.theme,t=e.ownerState;return(0,o.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===t.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===t.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!t.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===t.maxWidth&&(0,r.Z)({maxWidth:"px"===n.breakpoints.unit?Math.max(n.breakpoints.values.xs,444):"".concat(n.breakpoints.values.xs).concat(n.breakpoints.unit)},"&.".concat(g.paperScrollBody),(0,r.Z)({},n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),t.maxWidth&&"xs"!==t.maxWidth&&(0,r.Z)({maxWidth:"".concat(n.breakpoints.values[t.maxWidth]).concat(n.breakpoints.unit)},"&.".concat(g.paperScrollBody),(0,r.Z)({},n.breakpoints.down(n.breakpoints.values[t.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),t.fullWidth&&{width:"calc(100% - 64px)"},t.fullScreen&&(0,r.Z)({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(g.paperScrollBody),{margin:0,maxWidth:"100%"}))})),N=a.forwardRef((function(e,n){var t=(0,v.Z)({props:e,name:"MuiDialog"}),r=(0,y.Z)(),u={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},h=t["aria-describedby"],f=t["aria-labelledby"],x=t.BackdropComponent,g=t.BackdropProps,S=t.children,N=t.className,C=t.disableEscapeKeyDown,D=void 0!==C&&C,P=t.fullScreen,R=void 0!==P&&P,T=t.fullWidth,A=void 0!==T&&T,E=t.maxWidth,W=void 0===E?"sm":E,z=t.onBackdropClick,B=t.onClose,F=t.open,U=t.PaperComponent,L=void 0===U?p.Z:U,O=t.PaperProps,V=void 0===O?{}:O,H=t.scroll,q=void 0===H?"paper":H,Q=t.TransitionComponent,J=void 0===Q?m.Z:Q,K=t.transitionDuration,Y=void 0===K?u:K,G=t.TransitionProps,X=(0,i.Z)(t,k),$=(0,o.Z)({},t,{disableEscapeKeyDown:D,fullScreen:R,fullWidth:A,maxWidth:W,scroll:q}),ee=function(e){var n=e.classes,t=e.scroll,r=e.maxWidth,i=e.fullWidth,o=e.fullScreen,a={root:["root"],container:["container","scroll".concat((0,d.Z)(t))],paper:["paper","paperScroll".concat((0,d.Z)(t)),"paperWidth".concat((0,d.Z)(String(r))),i&&"paperFullWidth",o&&"paperFullScreen"]};return(0,s.Z)(a,Z,n)}($),ne=a.useRef(),te=(0,c.Z)(f),re=a.useMemo((function(){return{titleId:te}}),[te]);return(0,b.jsx)(w,(0,o.Z)({className:(0,l.Z)(ee.root,N),closeAfterTransition:!0,components:{Backdrop:_},componentsProps:{backdrop:(0,o.Z)({transitionDuration:Y,as:x},g)},disableEscapeKeyDown:D,onClose:B,open:F,ref:n,onClick:function(e){ne.current&&(ne.current=null,z&&z(e),B&&B(e,"backdropClick"))},ownerState:$},X,{children:(0,b.jsx)(J,(0,o.Z)({appear:!0,in:F,timeout:Y,role:"presentation"},G,{children:(0,b.jsx)(I,{className:(0,l.Z)(ee.container),onMouseDown:function(e){ne.current=e.target===e.currentTarget},ownerState:$,children:(0,b.jsx)(M,(0,o.Z)({as:L,elevation:24,role:"dialog","aria-describedby":h,"aria-labelledby":te},V,{className:(0,l.Z)(ee.paper,V.className),ownerState:$,children:(0,b.jsx)(j.Z.Provider,{value:re,children:S})}))})}))}))}))},85090:function(e,n,t){var r=(0,t(72791).createContext)({});n.Z=r},65661:function(e,n,t){var r=t(87462),i=t(63366),o=t(72791),a=t(28182),l=t(94419),s=t(20890),c=t(66934),d=t(31402),u=t(17673),m=t(85090),p=t(80184),v=["className","id"],h=(0,c.ZP)(s.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),f=o.forwardRef((function(e,n){var t=(0,d.Z)({props:e,name:"MuiDialogTitle"}),s=t.className,c=t.id,f=(0,i.Z)(t,v),x=t,Z=function(e){var n=e.classes;return(0,l.Z)({root:["root"]},u.a,n)}(x),g=o.useContext(m.Z).titleId,j=void 0===g?c:g;return(0,p.jsx)(h,(0,r.Z)({component:"h2",className:(0,a.Z)(Z.root,s),ownerState:x,ref:n,variant:"h6",id:j},f))}));n.Z=f},17673:function(e,n,t){t.d(n,{a:function(){return o}});var r=t(75878),i=t(21217);function o(e){return(0,i.Z)("MuiDialogTitle",e)}var a=(0,r.Z)("MuiDialogTitle",["root"]);n.Z=a},49900:function(e,n,t){var r=t(4942),i=t(63366),o=t(87462),a=t(72791),l=t(28182),s=t(94419),c=t(20890),d=t(66199),u=t(31402),m=t(66934),p=t(29849),v=t(80184),h=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],f=(0,m.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[(0,r.Z)({},"& .".concat(p.Z.primary),n.primary),(0,r.Z)({},"& .".concat(p.Z.secondary),n.secondary),n.root,t.inset&&n.inset,t.primary&&t.secondary&&n.multiline,t.dense&&n.dense]}})((function(e){var n=e.ownerState;return(0,o.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},n.primary&&n.secondary&&{marginTop:6,marginBottom:6},n.inset&&{paddingLeft:56})})),x=a.forwardRef((function(e,n){var t=(0,u.Z)({props:e,name:"MuiListItemText"}),r=t.children,m=t.className,x=t.disableTypography,Z=void 0!==x&&x,g=t.inset,j=void 0!==g&&g,S=t.primary,y=t.primaryTypographyProps,b=t.secondary,k=t.secondaryTypographyProps,_=(0,i.Z)(t,h),w=a.useContext(d.Z).dense,I=null!=S?S:r,M=b,N=(0,o.Z)({},t,{disableTypography:Z,inset:j,primary:!!I,secondary:!!M,dense:w}),C=function(e){var n=e.classes,t=e.inset,r=e.primary,i=e.secondary,o={root:["root",t&&"inset",e.dense&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,s.Z)(o,p.L,n)}(N);return null==I||I.type===c.Z||Z||(I=(0,v.jsx)(c.Z,(0,o.Z)({variant:w?"body2":"body1",className:C.primary,component:null!=y&&y.variant?void 0:"span",display:"block"},y,{children:I}))),null==M||M.type===c.Z||Z||(M=(0,v.jsx)(c.Z,(0,o.Z)({variant:"body2",className:C.secondary,color:"text.secondary",display:"block"},k,{children:M}))),(0,v.jsxs)(f,(0,o.Z)({className:(0,l.Z)(C.root,m),ownerState:N,ref:n},_,{children:[I,M]}))}));n.Z=x}}]);
//# sourceMappingURL=716.c635b9c7.chunk.js.map