"use strict";(self.webpackChunkbel_frontend=self.webpackChunkbel_frontend||[]).push([[296],{60165:function(e,n,r){r.d(n,{d:function(){return b}});var t=r(74165),i=r(15861),o=r(29439),a=r(72791),l=r(93433),s=r(72685),c=r(44702),d=r(65390),u=(0,c.ZF)({apiKey:"AIzaSyCw3D0uzLYTCx7N8IQqP_v68le913Ha75U",authDomain:"bel-frontend.firebaseapp.com",projectId:"bel-frontend",messagingSenderId:"47972660046",appId:"1:47972660046:web:8f3adf6f5c9c16e542241f",measurementId:"G-REGR3FB1CP"}),p=((0,d.IH)(u),(0,s.N8)(u),function(e){return(JSON.parse(localStorage.getItem("user_liked_item")||"[]")||[]).find((function(n){return n===e}))}),v=function(e){var n=JSON.parse(localStorage.getItem("user_liked_item")||"[]")||[];localStorage.setItem("user_liked_item",JSON.stringify([].concat((0,l.Z)(n),[e])))},m=function(e){var n=JSON.parse(localStorage.getItem("user_liked_item")||"[]")||[];localStorage.setItem("user_liked_item",JSON.stringify((0,l.Z)(n.filter((function(n){return n!==e})))))},f=r(80186),h=r(36151),x=r(78687),Z=r(80184),g=function(){return(0,Z.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"white",children:(0,Z.jsx)("path",{d:"M12 4.248c-3.148-5.402-12-3.825-12 2.944 0 4.661 5.571 9.427 12 15.808 6.43-6.381 12-11.147 12-15.808 0-6.792-8.875-8.306-12-2.944z"})})},S="style_count_likes__vb5OL",b=function(e){var n=e.articleId,r=(e.className,e.likesCount),l=(0,x.I0)(),s=a.useState(r),c=(0,o.Z)(s,2),d=c[0],u=c[1];a.useEffect((function(){u(r)}),[r]);var b=a.useCallback((0,i.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p(n)){e.next=6;break}return e.next=3,l((0,f.Qf)({id:n},{onSuccess:function(e){var n=e.data;u(null===n||void 0===n?void 0:n.count)}}));case 3:v(n),e.next=9;break;case 6:return e.next=8,l((0,f.BD)({id:n},{onSuccess:function(e){var n=e.data;u(null===n||void 0===n?void 0:n.count)}}));case 8:m(n);case 9:case"end":return e.stop()}}),e)}))),[n]);return(0,Z.jsxs)(h.Z,{color:"error",type:"button",variant:"contained",size:"small",onClick:b,disableElevation:!0,children:[(0,Z.jsx)(g,{}),(0,Z.jsx)("span",{className:S,children:d})]})}},76180:function(e,n,r){r.d(n,{V:function(){return a}});r(72791);var t=r(81918),i="style_tag__vxBM0",o=r(80184),a=function(e){var n=e.children;return(0,o.jsx)(t.Z,{size:"small",className:i,label:n})}},32448:function(e,n,r){r.d(n,{MD:function(){return d}});var t=r(1413),i=r(45987),o=(r(72791),r(49876)),a=r(64209),l=r(6125),s=r(80184),c=["node","inline","className","children"],d=function(e){var n=e.children;return(0,s.jsx)(o.D,{components:{code:function(e){e.node;var n=e.inline,r=e.className,o=e.children,d=(0,i.Z)(e,c);return n?(0,s.jsx)("code",(0,t.Z)((0,t.Z)({className:r},d),{},{children:o})):(0,s.jsx)(a.Z,{language:"javascript",style:l.Z,children:String(o).replace(/\n$/,"")})}},children:n})}},61146:function(e,n,r){r.d(n,{U:function(){return d}});r(72791);var t=r(91523),i=r(60165),o=r(76180),a=r(36151),l=r(68870),s="style_episode_meta__kDtMn",c=r(80184),d=function(e){var n=e.meta,r=e.showReadButton,d=void 0===r||r,u=e.url,p=e.articleId,v=e.likes,m=n||{},f=m.author,h=void 0===f?"":f,x=m.dateArticle,Z=void 0===x?"":x;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:s,children:[d?(0,c.jsx)(t.rU,{to:u,children:(0,c.jsx)(a.Z,{variant:"contained",color:"primary",size:"small",disableElevation:!0,children:"\u0427\u044b\u0442\u0430\u0446\u044c"})}):null,d?(0,c.jsx)(i.d,{likesCount:v,articleId:p}):null]}),(0,c.jsx)("div",{children:((null===n||void 0===n?void 0:n.tags.toString().split(","))||[]).map((function(e){return(0,c.jsx)(o.V,{children:e},e)}))}),(0,c.jsxs)(l.Z,{marginTop:1,children:[(0,c.jsx)("span",{className:"author",children:h}),",",(0,c.jsxs)("span",{className:"date-article",children:[" ",Z]})]})]})}},81465:function(e,n,r){var t;r.d(n,{p:function(){return t}}),function(e){e.USER="USER",e.SUPERADMIN="SUPERADMIN"}(t||(t={}))},86296:function(e,n,r){r.r(n),r.d(n,{default:function(){return Ze}});var t=r(45987),i=r(72791),o=r(91523),a=r(54270),l=r(81694),s=r.n(l),c=r(36151),d=r(68870),u=r(41286),p=r(78687),v=r(80186),m=r(14357),f=r(32448),h=r(61146),x=r(60165),Z=r(76180),g=r(81465),S=r(29439),b=r(97254),j=r(4942),k=r(63366),w=r(87462),C=r(28182),N=r(94419),y=r(96248),D=r(14036),W=r(31993),M=r(60627),_=r(35527),I=r(31402),P=r(66934),R=r(75878),B=r(21217);function T(e){return(0,B.Z)("MuiDialog",e)}var A=(0,R.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var E=(0,i.createContext)({}),F=r(52739),U=r(13967),O=r(80184),z=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],L=(0,P.ZP)(F.Z,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,n){return n.backdrop}})({zIndex:-1}),J=(0,P.ZP)(W.Z,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,n){return n.root}})({"@media print":{position:"absolute !important"}}),K=(0,P.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,n){var r=e.ownerState;return[n.container,n["scroll".concat((0,D.Z)(r.scroll))]]}})((function(e){var n=e.ownerState;return(0,w.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===n.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===n.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),Y=(0,P.ZP)(_.Z,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,n){var r=e.ownerState;return[n.paper,n["scrollPaper".concat((0,D.Z)(r.scroll))],n["paperWidth".concat((0,D.Z)(String(r.maxWidth)))],r.fullWidth&&n.paperFullWidth,r.fullScreen&&n.paperFullScreen]}})((function(e){var n=e.theme,r=e.ownerState;return(0,w.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===r.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===r.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!r.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===r.maxWidth&&(0,j.Z)({maxWidth:"px"===n.breakpoints.unit?Math.max(n.breakpoints.values.xs,444):"".concat(n.breakpoints.values.xs).concat(n.breakpoints.unit)},"&.".concat(A.paperScrollBody),(0,j.Z)({},n.breakpoints.down(Math.max(n.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),r.maxWidth&&"xs"!==r.maxWidth&&(0,j.Z)({maxWidth:"".concat(n.breakpoints.values[r.maxWidth]).concat(n.breakpoints.unit)},"&.".concat(A.paperScrollBody),(0,j.Z)({},n.breakpoints.down(n.breakpoints.values[r.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),r.fullWidth&&{width:"calc(100% - 64px)"},r.fullScreen&&(0,j.Z)({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(A.paperScrollBody),{margin:0,maxWidth:"100%"}))})),H=i.forwardRef((function(e,n){var r=(0,I.Z)({props:e,name:"MuiDialog"}),t=(0,U.Z)(),o={enter:t.transitions.duration.enteringScreen,exit:t.transitions.duration.leavingScreen},a=r["aria-describedby"],l=r["aria-labelledby"],s=r.BackdropComponent,c=r.BackdropProps,d=r.children,u=r.className,p=r.disableEscapeKeyDown,v=void 0!==p&&p,m=r.fullScreen,f=void 0!==m&&m,h=r.fullWidth,x=void 0!==h&&h,Z=r.maxWidth,g=void 0===Z?"sm":Z,S=r.onBackdropClick,b=r.onClose,j=r.open,W=r.PaperComponent,P=void 0===W?_.Z:W,R=r.PaperProps,B=void 0===R?{}:R,A=r.scroll,F=void 0===A?"paper":A,H=r.TransitionComponent,V=void 0===H?M.Z:H,q=r.transitionDuration,G=void 0===q?o:q,Q=r.TransitionProps,X=(0,k.Z)(r,z),$=(0,w.Z)({},r,{disableEscapeKeyDown:v,fullScreen:f,fullWidth:x,maxWidth:g,scroll:F}),ee=function(e){var n=e.classes,r=e.scroll,t=e.maxWidth,i=e.fullWidth,o=e.fullScreen,a={root:["root"],container:["container","scroll".concat((0,D.Z)(r))],paper:["paper","paperScroll".concat((0,D.Z)(r)),"paperWidth".concat((0,D.Z)(String(t))),i&&"paperFullWidth",o&&"paperFullScreen"]};return(0,N.Z)(a,T,n)}($),ne=i.useRef(),re=(0,y.Z)(l),te=i.useMemo((function(){return{titleId:re}}),[re]);return(0,O.jsx)(J,(0,w.Z)({className:(0,C.Z)(ee.root,u),closeAfterTransition:!0,components:{Backdrop:L},componentsProps:{backdrop:(0,w.Z)({transitionDuration:G,as:s},c)},disableEscapeKeyDown:v,onClose:b,open:j,ref:n,onClick:function(e){ne.current&&(ne.current=null,S&&S(e),b&&b(e,"backdropClick"))},ownerState:$},X,{children:(0,O.jsx)(V,(0,w.Z)({appear:!0,in:j,timeout:G,role:"presentation"},Q,{children:(0,O.jsx)(K,{className:(0,C.Z)(ee.container),onMouseDown:function(e){ne.current=e.target===e.currentTarget},ownerState:$,children:(0,O.jsx)(Y,(0,w.Z)({as:P,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":re},B,{className:(0,C.Z)(ee.paper,B.className),ownerState:$,children:(0,O.jsx)(E.Provider,{value:te,children:d})}))})}))}))}));function V(e){return(0,B.Z)("MuiDialogActions",e)}(0,R.Z)("MuiDialogActions",["root","spacing"]);var q=["className","disableSpacing"],G=(0,P.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,!r.disableSpacing&&n.spacing]}})((function(e){var n=e.ownerState;return(0,w.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})})),Q=i.forwardRef((function(e,n){var r=(0,I.Z)({props:e,name:"MuiDialogActions"}),t=r.className,i=r.disableSpacing,o=void 0!==i&&i,a=(0,k.Z)(r,q),l=(0,w.Z)({},r,{disableSpacing:o}),s=function(e){var n=e.classes,r={root:["root",!e.disableSpacing&&"spacing"]};return(0,N.Z)(r,V,n)}(l);return(0,O.jsx)(G,(0,w.Z)({className:(0,C.Z)(s.root,t),ownerState:l,ref:n},a))}));function X(e){return(0,B.Z)("MuiDialogContent",e)}(0,R.Z)("MuiDialogContent",["root","dividers"]);function $(e){return(0,B.Z)("MuiDialogTitle",e)}var ee=(0,R.Z)("MuiDialogTitle",["root"]),ne=["className","dividers"],re=(0,P.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,r.dividers&&n.dividers]}})((function(e){var n=e.theme,r=e.ownerState;return(0,w.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},r.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((n.vars||n).palette.divider),borderBottom:"1px solid ".concat((n.vars||n).palette.divider)}:(0,j.Z)({},".".concat(ee.root," + &"),{paddingTop:0}))})),te=i.forwardRef((function(e,n){var r=(0,I.Z)({props:e,name:"MuiDialogContent"}),t=r.className,i=r.dividers,o=void 0!==i&&i,a=(0,k.Z)(r,ne),l=(0,w.Z)({},r,{dividers:o}),s=function(e){var n=e.classes,r={root:["root",e.dividers&&"dividers"]};return(0,N.Z)(r,X,n)}(l);return(0,O.jsx)(re,(0,w.Z)({className:(0,C.Z)(s.root,t),ownerState:l,ref:n},a))})),ie=r(20890);function oe(e){return(0,B.Z)("MuiDialogContentText",e)}(0,R.Z)("MuiDialogContentText",["root"]);var ae=["children","className"],le=(0,P.ZP)(ie.Z,{shouldForwardProp:function(e){return(0,P.FO)(e)||"classes"===e},name:"MuiDialogContentText",slot:"Root",overridesResolver:function(e,n){return n.root}})({}),se=i.forwardRef((function(e,n){var r=(0,I.Z)({props:e,name:"MuiDialogContentText"}),t=r.className,i=(0,k.Z)(r,ae),o=function(e){var n=e.classes,r=(0,N.Z)({root:["root"]},oe,n);return(0,w.Z)({},n,r)}(i);return(0,O.jsx)(le,(0,w.Z)({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:i,className:(0,C.Z)(o.root,t)},r,{classes:o}))})),ce=["className","id"],de=(0,P.ZP)(ie.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),ue=i.forwardRef((function(e,n){var r=(0,I.Z)({props:e,name:"MuiDialogTitle"}),t=r.className,o=r.id,a=(0,k.Z)(r,ce),l=r,s=function(e){var n=e.classes;return(0,N.Z)({root:["root"]},$,n)}(l),c=i.useContext(E).titleId,d=void 0===c?o:c;return(0,O.jsx)(de,(0,w.Z)({component:"h2",className:(0,C.Z)(s.root,t),ownerState:l,ref:n,variant:"h6",id:d},a))})),pe=r(55705),ve=r(26727),me=function(){return ve.Ry({message:ve.Z_().min(6,"\u041f\u0430\u0432\u0456\u043d\u043d\u0430 \u0431\u044b\u0446\u044c \u043d\u0435 \u043c\u0435\u043d\u0435\u0439 \u0437\u0430 10 \u0441\u0456\u0432\u0430\u043b\u0430\u045e").required("\u0423\u0432\u044f\u0434\u0437\u0456\u0446\u0435 \u0442\u044d\u043a\u0441\u0442")})};function fe(e){e.currentUser;var n=e.artickleId,r=(0,p.I0)(),t=(0,pe.TA)({onSubmit:function(e){var t=e.message;r((0,v.rW)({message:t,artickleId:n},{onSuccess:function(){h(!1)}}))},validationSchema:me(),initialValues:{message:""}}),o=t.handleSubmit,a=t.values,l=t.handleChange,s=t.errors,u=i.useState(!1),m=(0,S.Z)(u,2),f=m[0],h=m[1],x=function(){h(!1)};return(0,O.jsxs)(d.Z,{children:[(0,O.jsx)(c.Z,{variant:"outlined",onClick:function(){h(!0)},children:"\u0417\u043d\u0430\u0439\u0448\u043b\u0456 \u043f\u0430\u043c\u044b\u043b\u043a\u0443?"}),(0,O.jsxs)(H,{open:f,onClose:x,children:[(0,O.jsx)(ue,{children:"\u041f\u0430\u0432\u0435\u0434\u0430\u043c\u0456\u0446\u044c \u043f\u0440\u0430 \u043f\u0430\u043c\u044b\u043b\u043a\u0443"}),(0,O.jsxs)(te,{children:[(0,O.jsx)(se,{children:"\u041f\u0430\u0432\u0435\u0434\u0430\u043c\u043b\u0435\u043d\u043d\u0435 \u043f\u0440\u0430 \u043f\u0430\u043c\u044b\u043b\u043a\u0443 \u0431\u0443\u0434\u0437\u0435 \u0430\u0434\u043f\u0440\u0430\u045e\u043b\u0435\u043d\u0430 \u043d\u0430 Email \u0434\u0430 \u0430\u045e\u0442\u0430\u0440\u0430 \u0430\u0440\u0442\u044b\u043a\u0443\u043b\u0443"}),(0,O.jsx)(b.Z,{value:a.message,onChange:l("message"),autoFocus:!0,margin:"dense",id:"name",label:"",placeholder:"\u041a\u0430\u043b\u0456 \u043b\u0430\u0441\u043a\u0430, \u0430\u043f\u0456\u0448\u044b\u0446\u0435 \u043f\u0430\u043c\u044b\u043b\u043a\u0443",fullWidth:!0,multiline:!0,variant:"standard",helperText:s.message,error:Boolean(s.message)})]}),(0,O.jsxs)(Q,{children:[(0,O.jsx)(c.Z,{onClick:x,children:"\u0410\u0434\u043c\u044f\u043d\u0456\u0446\u044c"}),(0,O.jsx)(d.Z,{component:"form",ml:1,onSubmit:o,children:(0,O.jsx)(c.Z,{disableElevation:!0,variant:"contained",type:"submit",children:"\u0414\u0430\u0441\u043b\u0430\u0446\u044c"})})]})]})]})}var he={likeContainer:"style_likeContainer__QOyse"},xe=["match","history","route"],Ze=function(e){var n,r,l,S,b,j,k,w=e.match.params.id,C=e.history,N=e.route.userIsAuth,y=((0,t.Z)(e,xe),(0,p.I0)()),D=(0,p.v9)(m.Lu),W=(0,p.v9)(v.cL);i.useEffect((function(){w&&y((0,v.GU)({id:w}))}),[w]);var M=null===W||void 0===W||null===(n=W.meta)||void 0===n?void 0:n.title,_=null!==(r=null===W||void 0===W||null===(l=W.meta)||void 0===l?void 0:l.description)&&void 0!==r?r:null===W||void 0===W||null===(S=W.meta)||void 0===S?void 0:S.title;return W?(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(a.q,{children:[(0,O.jsx)("title",{children:M}),(0,O.jsx)("meta",{name:"description",content:_})]}),(0,O.jsxs)("div",{className:"articlePage",children:[(0,O.jsx)(o.rU,{to:"/",children:"\u0413\u0430\u043b\u043e\u045e\u043d\u0430\u044f"})," ",(0,O.jsxs)("span",{children:[">"," "]}),(0,O.jsx)("span",{children:M})]}),(0,O.jsx)("div",{className:s()(he.likeContainer),children:(0,O.jsx)(x.d,{likesCount:(null===W||void 0===W?void 0:W.likes)||0,className:he.likeButton,articleId:w})}),(0,O.jsx)("main",{className:"page__main main articlePage",children:(0,O.jsxs)("article",{className:"episode box",children:[(0,O.jsx)("h2",{className:"episode__title",children:null===W||void 0===W||null===(b=W.meta)||void 0===b?void 0:b.title}),((null===W||void 0===W||null===(j=W.meta)||void 0===j?void 0:j.tags.toString().split(","))||[]).map((function(e){return(0,O.jsx)(Z.V,{children:e},e)})),(0,O.jsx)("div",{className:"content",children:(0,O.jsx)(f.MD,{children:null===W||void 0===W?void 0:W.content})}),(0,O.jsx)(h.U,{showReadButton:!1,showLikes:!1,meta:null===W||void 0===W?void 0:W.meta,articleId:w}),N?(0,O.jsx)(d.Z,{marginTop:2,children:(0,O.jsx)(fe,{currentUser:D,artickleId:w})}):null,(0,O.jsx)(d.Z,{marginTop:2,children:!N||(null===D||void 0===D?void 0:D.user_id)!==(null===W||void 0===W||null===(k=W.meta)||void 0===k?void 0:k.user_id)&&D.role!==g.p.SUPERADMIN?null:(0,O.jsx)(c.Z,{variant:"outlined",color:"primary",className:he.editButton,onClick:function(){C.push("/editor/".concat(w))},endIcon:(0,O.jsx)(u.Z,{}),children:"\u0420\u044d\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044c"})})]})})]}):null}}}]);
//# sourceMappingURL=296.7ba3c1bd.chunk.js.map