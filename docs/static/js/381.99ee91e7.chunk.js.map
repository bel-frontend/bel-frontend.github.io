{"version":3,"file":"static/js/381.99ee91e7.chunk.js","mappings":"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","sources":["webpack://bel_frontend/./src/containers/Auth/SignUp/style.module.scss?8dbb","containers/Auth/SignUp/index.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"linkedSpan\":\"style_linkedSpan__CKlh3\"};","import React, { useState } from 'react';\nimport { useFormik } from 'formik';\nimport * as yup from 'yup';\nimport { useTranslation } from 'react-i18next';\n\nimport Button from '@mui/material/Button';\nimport TextField from '@mui/material/TextField';\nimport Box from '@mui/material/Box';\nimport Typography from '@mui/material/Typography';\n\nimport { registerRequest } from 'modules/auth';\nimport { useDispatch } from 'react-redux';\nimport Switch from '@mui/material/Switch';\nimport { USER_ROLES } from '../../../constants/users';\nimport FormControlLabel from '@mui/material/FormControlLabel';\n\nimport styles from './style.module.scss';\nimport Dialog from '@mui/material/Dialog';\nimport { PrivacyPolicy } from './PrivacyPolicy';\n\nconst validationSchema = (t: any) =>\n    yup.object({\n        email: yup.string().email().required(),\n        password: yup\n            .string()\n            .min(6, 'Пароль павінен быць не карацей за 6 сімвалаў')\n            .required(),\n        confirm_password: yup\n            .string()\n            .min(6)\n            .required()\n            .oneOf([yup.ref('password'), ''], 'Passwords must match'),\n    });\n\nconst SignUp = ({ history }: { history: any }) => {\n    const [isOpenDialog, setIsOpenDialog] = useState(false);\n\n    const dispatch = useDispatch();\n    const { t } = useTranslation();\n    const {\n        handleChange,\n        handleBlur,\n        touched,\n        values,\n        handleSubmit,\n        errors,\n        setErrors,\n    } = useFormik({\n        initialValues: {\n            email: '',\n            password: '',\n            confirm_password: '',\n            privacy_policy: false,\n        },\n        validationSchema: validationSchema(t),\n        onSubmit: ({ email, password, ...values }) => {\n            dispatch(\n                registerRequest(\n                    { email, password },\n                    {\n                        onSuccess: () => {\n                            history.goBack();\n                        },\n                        onFailure: ({ response: { data: err } }: any) => {\n                            console.error(err);\n                            setErrors({ email: err });\n                        },\n                    },\n                ),\n            );\n        },\n    });\n\n    const onOpenDialog = () => setIsOpenDialog(true);\n\n    const onCloseDialog = () => setIsOpenDialog(false);\n\n    return (\n        <Box sx={{ mb: 0, mt: 30 }}>\n            <Typography textAlign={'center'} variant=\"h4\">\n                Рэгістрацыя\n            </Typography>\n            <Box\n                component=\"form\"\n                onSubmit={handleSubmit}\n                noValidate\n                minHeight={'70vh'}\n            >\n                <TextField\n                    margin=\"dense\"\n                    required\n                    variant=\"outlined\"\n                    fullWidth\n                    id=\"email\"\n                    label=\"email\"\n                    name=\"email\"\n                    autoComplete=\"email\"\n                    value={values.email}\n                    onChange={handleChange('email')}\n                    onBlur={handleBlur('email')}\n                    helperText={touched.email ? errors.email : null}\n                    error={touched.email && Boolean(errors.email)}\n                />\n                <TextField\n                    margin=\"dense\"\n                    required\n                    variant=\"outlined\"\n                    fullWidth\n                    name=\"password\"\n                    label={'Пароль'}\n                    type=\"password\"\n                    id=\"password\"\n                    autoComplete=\"current-password\"\n                    value={values.password}\n                    onChange={handleChange('password')}\n                    onBlur={handleBlur('password')}\n                    helperText={touched.password ? errors.password : null}\n                    error={touched.password && Boolean(errors.password)}\n                />\n                <TextField\n                    margin=\"dense\"\n                    required\n                    variant=\"outlined\"\n                    fullWidth\n                    name=\"password\"\n                    label={'Паўтарыце пароль'}\n                    type=\"password\"\n                    id=\"confirm_password\"\n                    autoComplete=\"current-password\"\n                    value={values.confirm_password}\n                    onChange={handleChange('confirm_password')}\n                    onBlur={handleBlur('confirm_password')}\n                    helperText={\n                        touched.confirm_password\n                            ? errors.confirm_password\n                            : null\n                    }\n                    error={\n                        touched.confirm_password &&\n                        Boolean(errors.confirm_password)\n                    }\n                />\n                <FormControlLabel\n                    control={\n                        <Switch\n                            checked={values.privacy_policy}\n                            onChange={handleChange('privacy_policy')}\n                        />\n                    }\n                    label=\"Згодны з\"\n                />\n                <Typography\n                    variant=\"body1\"\n                    component=\"span\"\n                    color=\"primary\"\n                    className={styles.linkedSpan}\n                    onClick={onOpenDialog}\n                >\n                    палітыкай прыватнасці\n                </Typography>\n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    sx={{ mt: 1, mb: 1 }}\n                    disabled={!values.privacy_policy}\n                >\n                    Зарэгістравацца\n                </Button>\n            </Box>\n            <Dialog open={isOpenDialog} onClose={onCloseDialog}>\n                <PrivacyPolicy />\n            </Dialog>\n        </Box>\n    );\n};\n\nexport default SignUp;\n"],"names":["history","useState","isOpenDialog","setIsOpenDialog","dispatch","useDispatch","useTranslation","t","useFormik","initialValues","email","password","confirm_password","privacy_policy","validationSchema","yup","required","min","oneOf","onSubmit","registerRequest","onSuccess","goBack","onFailure","err","response","data","console","error","setErrors","handleChange","handleBlur","touched","values","handleSubmit","errors","Box","sx","mb","mt","Typography","textAlign","variant","component","noValidate","minHeight","TextField","margin","fullWidth","id","label","name","autoComplete","value","onChange","onBlur","helperText","Boolean","type","FormControlLabel","control","Switch","checked","color","className","styles","onClick","Button","disabled","Dialog","open","onClose","PrivacyPolicy"],"sourceRoot":""}