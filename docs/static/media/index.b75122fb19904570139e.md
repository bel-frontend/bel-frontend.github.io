---
number: 7
title: "Разбор пытанняў з рэальных сумоўяў JS Core - 4."
dateArticle: "04.02.2023"
author: "loveJS"
chapters: 1
layout: episode.njk
tags: episode
---

**Пытанне**

Пералічыць усе спосабы кланіравання аб'ектаў.

**Кароткі адказ**

У JS не існуе ўбудаванага спосабу кланіравання аб'екта.

Калі нам патрэбна не спасылка на адзін і той жа аб'ект, а паўнавартасная яго копія, можам скарыстацца некалькімі спосабамі, якія вяртаюць **_павярховую_** ці **_глыбокую копію_**:

- матады аб'екта, такія, як, напрыклад, `Object.assign`

- з дапамогай `spread`-аператара

- свая рэалізацыя рэкурсіўнага абыходу аб'екта

- `JSON.parse` / `JSON.stringify`

- web API `structuredClone`

- метады старонніх бібліятэк, напрыклад, `lodash cloneDeep`

**Падрабязны адказ**

У JS не існуе ўбудаванага спосабу кланіравання аб'екта.

Капіраванне аб`екта можна зрабіць некалькімі спосабамі, якія можна падзяліць на **_глыбокае і павярховае капіраванне_**.

**_Павярховае капіраванне_** азначае, што, калі мы маем складаны аб`ект, то скапіруецца толькі яго верхні узровень, а ўсе ўкладзеныя спасылачныя тыпы дадзеных (аб'екты і масівы), будуць даступныя па спасылцы:

```
const obj = {
  b: 'b',
  c: {
    d: 'd'
  }
};

const objCopy = {...obj};
```
У дадзеным выпадку у `objCopy` скапіруецца толькі ўласцівасць `b`, а `с` будзе спасылацца на адзін і той жа абект `{ d: 'd' }`.

**_Глыбокае капіраванне_** азначае, што мы будзем мець паўнавартасную копію без спасылак.

_Паверхнаснае капіраванне_:

- метады аб'екта, такія, як, напрыклад, `Object.assign`

```
const objCopy = Object.assign({}, obj);
```

- з дапамогай `spread`-аператара

```
const objCopy = {...obj};
```

_Глыбокае капіраванне_:

- свая рэалізацыя рэкурсіўнага абыходу аб'екта

- `JSON.parse` / `JSON.stringify` (існуе шэраг абмежаванняў - не капіруюцца функцыі, цыклічныя аб'екты, Symbol)

```
const objCopy = JSON.parse(JSON.stringify(obj));
```

- web API `structuredClone`

```
const objCopy = structuredClone(obj);
```

- метады старонніх бібліятэк, напрыклад, `lodash cloneDeep`
