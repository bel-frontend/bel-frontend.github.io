---
number: 12
title: "Разбор пытанняў з рэальных сумоўяў JS Network - 2."
dateArticle: "11.02.2023"
author: "loveJS"
chapters: 1
layout: episode.njk
tags: episode
---

**Пытанне:**

Чым адрозніваецца `fetch` і `XHR` (`XMLHttpRequest`)?

**Кароткі адказ**

- `fetch` - працуе на промісах, `XHR` - працуе на callbacks

- `fetch` - асінхронны, `XHR` - сінхронны і асінхронны

- `fetch` - нельга адмяніць, `XHR` - можна

- `fetch` - струменевая праца с дадзенымі, `XHR` - увесь адказ кешыруецца ў памяці

- `XHR` - можам адсочваць працэсс загрузкі дадзеных на сервер

**Падрабязны адказ**

- `fetch` - працуе на промісах (пазбаўляемся ад `callbacks hell`), `XHR` - працуе на `callbacks`

- `fetch` - асінхронны, `XHR` - сінхронны і асінхронны

```
// стварэнне сінхроннага і асінхроннага запыту з дапамогай XMLHttpRequest

// ствараем новы аб'ект XHR
var xhr = new XMLHttpRequest();

// дадаем канфігурацыю запыту
xhr.open(method, URL, [async, user, password])

// async можа быць false - запыт ажыццяўляецца сінхронна, true - запыт асінхронны
```

- `fetch` - нельга адмяніць, `XHR` - можна

Для адмены `XHR` трэба выклікаць метад `abort`
```
xhr.abort()
```
У самім `fetch` няма магчымасці адмяніць запыт, але можам выкарыстаць іншы ўбудаваны аб'ект `AbortController`.

- `fetch` - струменевая праца с дадзенымі, `XHR` - увесь адказ кешыруецца ў памяці

- `XHR` - можам адсочваць працэсс загрузкі дадзеных на сервер (аб'ект `xhr.upload`), `fetch` - не мае такой магчымасці
